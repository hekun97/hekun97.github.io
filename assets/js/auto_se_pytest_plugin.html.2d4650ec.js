"use strict";(self.webpackChunkcaelis_terra=self.webpackChunkcaelis_terra||[]).push([[3238],{6376:(i,s,a)=>{a.r(s),a.d(s,{comp:()=>n,data:()=>l});var e=a(6254);const t={},n=(0,a(6995).A)(t,[["render",function(i,s){return(0,e.uX)(),(0,e.CE)("div",null,s[0]||(s[0]=[(0,e.Fv)('<h1 id="å¸¸ç”¨æ’ä»¶" tabindex="-1"><a class="header-anchor" href="#å¸¸ç”¨æ’ä»¶"><span>å¸¸ç”¨æ’ä»¶</span></a></h1><p>ä»¥ä¸‹æ˜¯ <strong>pytest å¸¸ç”¨æ’ä»¶</strong> çš„è¯¦ç»†è§£æï¼Œæ¶µç›–æ ¸å¿ƒåŠŸèƒ½ã€ä½¿ç”¨åœºæ™¯åŠå®æˆ˜ç¤ºä¾‹ï¼š</p><hr><h3 id="ä¸€ã€æµ‹è¯•ä½“éªŒå¢å¼º" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€æµ‹è¯•ä½“éªŒå¢å¼º"><span><strong>ä¸€ã€æµ‹è¯•ä½“éªŒå¢å¼º</strong></span></a></h3><h4 id="_1-pytest-sugar" tabindex="-1"><a class="header-anchor" href="#_1-pytest-sugar"><span><strong>1. pytest-sugar</strong></span></a></h4><ul><li><p><strong>åŠŸèƒ½</strong>ï¼šç¾åŒ–æ§åˆ¶å°è¾“å‡ºï¼Œæ˜¾ç¤ºè¿›åº¦æ¡å’Œå½©è‰²ç»“æœã€‚</p></li><li><p><strong>å®‰è£…</strong>ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pytest-sugar</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p><strong>æ•ˆæœ</strong>ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">âœ“</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test_pass.py</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> âœ”</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">âœ—</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test_fail.py</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> âœ˜</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>ç‰¹æ€§</strong>ï¼š</p><ul><li>è‡ªåŠ¨éšè—å†—é•¿çš„ <code>Traceback</code> ä¿¡æ¯ï¼ˆå¯é…ç½®ï¼‰</li><li>æ”¯æŒ <code>--plain</code> å‚æ•°æ¢å¤åŸå§‹è¾“å‡º</li></ul></li></ul><h4 id="_2-pytest-html" tabindex="-1"><a class="header-anchor" href="#_2-pytest-html"><span><strong>2. pytest-html</strong></span></a></h4><ul><li><strong>åŠŸèƒ½</strong>ï¼šç”Ÿæˆ HTML æ ¼å¼æµ‹è¯•æŠ¥å‘Šã€‚</li><li><strong>å®‰è£…</strong>ï¼š<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pytest-html</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><strong>ä½¿ç”¨</strong>ï¼š<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pytest</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --html=report.html</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><strong>å®šåˆ¶</strong>ï¼š<div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># conftest.py</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> pytest_html_report_title</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">report</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    report.title </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;My Test Report&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>ä¸€èˆ¬ä½¿ç”¨Allureçš„æµ‹è¯•æŠ¥å‘Šæ›´å¤šã€‚</p></div><hr><h3 id="äºŒã€æµ‹è¯•æ‰§è¡Œæ§åˆ¶" tabindex="-1"><a class="header-anchor" href="#äºŒã€æµ‹è¯•æ‰§è¡Œæ§åˆ¶"><span><strong>äºŒã€æµ‹è¯•æ‰§è¡Œæ§åˆ¶</strong></span></a></h3><h4 id="_1-pytest-ordering" tabindex="-1"><a class="header-anchor" href="#_1-pytest-ordering"><span><strong>1. pytest-ordering</strong></span></a></h4><ul><li><strong>åŠŸèƒ½</strong>ï¼šæ§åˆ¶æµ‹è¯•ç”¨ä¾‹æ‰§è¡Œé¡ºåºã€‚</li><li><strong>å®‰è£…</strong>ï¼š<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pytest-ordering</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><strong>ç”¨æ³•</strong>ï¼š<div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">@pytest</span><span style="--shiki-light:#4078F2;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mark</span><span style="--shiki-light:#4078F2;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">run</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">order</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> test_second</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">():</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    pass</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">@pytest</span><span style="--shiki-light:#4078F2;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mark</span><span style="--shiki-light:#4078F2;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">run</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">order</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> test_first</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">():</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    pass</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><strong>æ³¨æ„</strong>ï¼š <ul><li>æ»¥ç”¨ä¼šç ´åæµ‹è¯•ç‹¬ç«‹æ€§</li><li>æ¨èä»…ç”¨äºå¿…è¦çš„é¡ºåºä¾èµ–ï¼ˆå¦‚çŠ¶æ€æœºæµ‹è¯•ï¼‰</li></ul></li></ul><h4 id="_2-pytest-xdist" tabindex="-1"><a class="header-anchor" href="#_2-pytest-xdist"><span><strong>2. pytest-xdist</strong></span></a></h4><ul><li><strong>åŠŸèƒ½</strong>ï¼šå¹¶è¡Œè¿è¡Œæµ‹è¯•ï¼ŒåŠ é€Ÿæ‰§è¡Œã€‚</li><li><strong>å®‰è£…</strong>ï¼š<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pytest-xdist</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><strong>ä½¿ç”¨</strong>ï¼š<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pytest</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 4</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # ä½¿ç”¨4ä¸ªCPUæ ¸å¿ƒ</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pytest</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> auto</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # è‡ªåŠ¨æ£€æµ‹CPUæ ¸å¿ƒæ•°</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><strong>æ³¨æ„</strong>ï¼š <ul><li>å¹¶è¡Œæ—¶é¿å…å…±äº«èµ„æºå†²çªï¼ˆå¦‚æ–‡ä»¶ã€æ•°æ®åº“ï¼‰</li><li>ç»“åˆ <code>pytest-dependency</code> éœ€è°¨æ…å¤„ç†æµ‹è¯•ä¾èµ–</li></ul></li></ul><h4 id="_3-pytest-dependency" tabindex="-1"><a class="header-anchor" href="#_3-pytest-dependency"><span><strong>3. pytest-dependency</strong></span></a></h4><ul><li><strong>åŠŸèƒ½</strong>ï¼šç®¡ç†æµ‹è¯•ç”¨ä¾‹é—´çš„ä¾èµ–å…³ç³»ã€‚</li><li><strong>å®‰è£…</strong>ï¼š<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pytest-dependency</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><strong>ç”¨æ³•</strong>ï¼š<div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">@pytest</span><span style="--shiki-light:#4078F2;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mark</span><span style="--shiki-light:#4078F2;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dependency</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> test_login</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">():</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    pass</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">@pytest</span><span style="--shiki-light:#4078F2;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mark</span><span style="--shiki-light:#4078F2;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dependency</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">depends</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;test_login&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> test_profile</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">():</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    pass</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # ä»…åœ¨ test_login é€šè¿‡åæ‰§è¡Œ</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><hr><h3 id="ä¸‰ã€ä»£ç è´¨é‡æ£€æµ‹" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€ä»£ç è´¨é‡æ£€æµ‹"><span><strong>ä¸‰ã€ä»£ç è´¨é‡æ£€æµ‹</strong></span></a></h3><h4 id="_1-pytest-cov" tabindex="-1"><a class="header-anchor" href="#_1-pytest-cov"><span><strong>1. pytest-cov</strong></span></a></h4><ul><li><strong>åŠŸèƒ½</strong>ï¼šç”Ÿæˆä»£ç è¦†ç›–ç‡æŠ¥å‘Šã€‚</li><li><strong>å®‰è£…</strong>ï¼š<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pytest-cov</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><strong>ä½¿ç”¨</strong>ï¼š<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pytest</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --cov=my_project</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --cov-report=html</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><strong>é…ç½®</strong>ï¼š<div class="language-ini line-numbers-mode" data-highlighter="shiki" data-ext="ini" data-title="ini" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># .coveragerc</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">[run]</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">omit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> tests/*, venv/*</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="_2-pytest-flake8" tabindex="-1"><a class="header-anchor" href="#_2-pytest-flake8"><span><strong>2. pytest-flake8</strong></span></a></h4><ul><li><p><strong>åŠŸèƒ½</strong>ï¼šé›†æˆ flake8 ä»£ç é£æ ¼æ£€æŸ¥ã€‚</p></li><li><p><strong>å®‰è£…</strong>ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pytest-flake8</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p><strong>ä½¿ç”¨</strong>ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pytest</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --flake8</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><hr><h3 id="å››ã€web-æµ‹è¯•æ”¯æŒ" tabindex="-1"><a class="header-anchor" href="#å››ã€web-æµ‹è¯•æ”¯æŒ"><span><strong>å››ã€Web æµ‹è¯•æ”¯æŒ</strong></span></a></h3><h4 id="_1-pytest-selenium" tabindex="-1"><a class="header-anchor" href="#_1-pytest-selenium"><span><strong>1. pytest-selenium</strong></span></a></h4><ul><li><strong>åŠŸèƒ½</strong>ï¼šç®€åŒ– Selenium æµ‹è¯•é›†æˆã€‚</li><li><strong>å®‰è£…</strong>ï¼š<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pytest-selenium</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><strong>ç‰¹æ€§</strong>ï¼š <ul><li>è‡ªåŠ¨ç®¡ç†æµè§ˆå™¨é©±åŠ¨</li><li>æ”¯æŒå¤šæµè§ˆå™¨é…ç½®</li></ul><div class="language-ini line-numbers-mode" data-highlighter="shiki" data-ext="ini" data-title="ini" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># pytest.ini</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">[pytest]</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">drivers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> chrome</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="_2-pytest-play" tabindex="-1"><a class="header-anchor" href="#_2-pytest-play"><span><strong>2. pytest-play</strong></span></a></h4><ul><li><strong>åŠŸèƒ½</strong>ï¼šä½¿ç”¨ YAML æ–‡ä»¶ç¼–å†™è¡Œä¸ºé©±åŠ¨æµ‹è¯•ï¼ˆBDDï¼‰ã€‚</li><li><strong>å®‰è£…</strong>ï¼š<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pytest-play</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><strong>ç¤ºä¾‹</strong>ï¼š<div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># test_login.yaml</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">- </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Login test</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  actions</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">go</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;https://example.com/login&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">fill</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        username</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;testuser&quot;</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        password</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;secret&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">click</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;submit&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">assert_text_present</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Welcome&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><hr><h3 id="äº”ã€mock-ä¸-fixture-å¢å¼º" tabindex="-1"><a class="header-anchor" href="#äº”ã€mock-ä¸-fixture-å¢å¼º"><span><strong>äº”ã€Mock ä¸ Fixture å¢å¼º</strong></span></a></h3><h4 id="_1-pytest-mock" tabindex="-1"><a class="header-anchor" href="#_1-pytest-mock"><span><strong>1. pytest-mock</strong></span></a></h4><ul><li><strong>åŠŸèƒ½</strong>ï¼šç®€åŒ– Python <code>unittest.mock</code> çš„ä½¿ç”¨ã€‚</li><li><strong>å®‰è£…</strong>ï¼š<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pytest-mock</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><strong>ç”¨æ³•</strong>ï¼š<div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> test_api_call</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">mocker</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    mock_get </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> mocker.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">patch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;requests.get&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    mock_get.return_value.status_code </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 200</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    assert</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;"> call_api</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 200</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="_2-pytest-factoryboy" tabindex="-1"><a class="header-anchor" href="#_2-pytest-factoryboy"><span><strong>2. pytest-factoryboy</strong></span></a></h4><ul><li><strong>åŠŸèƒ½</strong>ï¼šé›†æˆ factory_boy æµ‹è¯•æ•°æ®å·¥å‚ã€‚</li><li><strong>å®‰è£…</strong>ï¼š<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pytest-factoryboy</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><strong>ç”¨æ³•</strong>ï¼š<div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># factories.py</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> UserFactory</span><span style="--shiki-light:#C18401;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">factory</span><span style="--shiki-light:#C18401;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Factory</span><span style="--shiki-light:#C18401;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Meta</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        model </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> User</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    name </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Alice&quot;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># test_models.py</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> test_user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">user_factory</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    user </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;"> user_factory</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    assert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> user.name </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Alice&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><hr><h3 id="å…­ã€æ’ä»¶å¯¹æ¯”ä¸é€‰å‹" tabindex="-1"><a class="header-anchor" href="#å…­ã€æ’ä»¶å¯¹æ¯”ä¸é€‰å‹"><span><strong>å…­ã€æ’ä»¶å¯¹æ¯”ä¸é€‰å‹</strong></span></a></h3><table><thead><tr><th><strong>æ’ä»¶</strong></th><th><strong>æ ¸å¿ƒç”¨é€”</strong></th><th><strong>æ¨èåœºæ™¯</strong></th></tr></thead><tbody><tr><td><code>pytest-sugar</code></td><td>æå‡æ§åˆ¶å°è¾“å‡ºå¯è¯»æ€§</td><td>æ‰€æœ‰é¡¹ç›®</td></tr><tr><td><code>pytest-xdist</code></td><td>åŠ é€Ÿæµ‹è¯•æ‰§è¡Œ</td><td>å¤§å‹æµ‹è¯•å¥—ä»¶</td></tr><tr><td><code>pytest-ordering</code></td><td>æ§åˆ¶æµ‹è¯•é¡ºåº</td><td>æœ‰ä¸¥æ ¼é¡ºåºéœ€æ±‚çš„æµ‹è¯•ï¼ˆå°‘ç”¨ï¼‰</td></tr><tr><td><code>pytest-dependency</code></td><td>ç®¡ç†æµ‹è¯•ä¾èµ–</td><td>é›†æˆæµ‹è¯•/æµç¨‹æµ‹è¯•</td></tr><tr><td><code>pytest-cov</code></td><td>ä»£ç è¦†ç›–ç‡åˆ†æ</td><td>è´¨é‡é—¨ç¦/CI é›†æˆ</td></tr><tr><td><code>pytest-selenium</code></td><td>ç®€åŒ–æµè§ˆå™¨è‡ªåŠ¨åŒ–</td><td>Web UI æµ‹è¯•</td></tr></tbody></table><hr><h3 id="ä¸ƒã€æœ€ä½³å®è·µ" tabindex="-1"><a class="header-anchor" href="#ä¸ƒã€æœ€ä½³å®è·µ"><span><strong>ä¸ƒã€æœ€ä½³å®è·µ</strong></span></a></h3><ol><li><strong>æŒ‰éœ€é€‰æ‹©æ’ä»¶</strong>ï¼šé¿å…è¿‡åº¦å¢åŠ ä¾èµ–</li><li><strong>ç»Ÿä¸€é…ç½®ç®¡ç†</strong>ï¼šé€šè¿‡ <code>pytest.ini</code> æˆ– <code>conftest.py</code> é›†ä¸­é…ç½®<div class="language-ini line-numbers-mode" data-highlighter="shiki" data-ext="ini" data-title="ini" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># pytest.ini</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">[pytest]</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">addopts</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> -v --</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">tb</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">short -n auto</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><strong>éš”ç¦»æµ‹è¯•ç¯å¢ƒ</strong>ï¼šä½¿ç”¨ <code>pytest-xdist</code> æ—¶é…åˆ Docker æˆ–ä¸´æ—¶æ•°æ®åº“</li></ol><hr><h3 id="å…«ã€æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#å…«ã€æ€»ç»“"><span><strong>å…«ã€æ€»ç»“</strong></span></a></h3><ul><li><strong>æ•ˆç‡ä¼˜å…ˆ</strong>ï¼š<code>pytest-xdist</code> + <code>pytest-sugar</code> æå‡æ‰§è¡Œé€Ÿåº¦å’Œå¯è¯»æ€§</li><li><strong>è´¨é‡ä¿éšœ</strong>ï¼š<code>pytest-cov</code> + <code>pytest-flake8</code> ç¡®ä¿ä»£ç è§„èŒƒ</li><li><strong>å¤æ‚åœºæ™¯</strong>ï¼š<code>pytest-dependency</code> + <code>pytest-mock</code> å¤„ç†ä¾èµ–å’Œ Mock</li></ul><p>åˆç†ç»„åˆè¿™äº›æ’ä»¶ï¼Œå¯æ„å»ºå‡º <strong>é«˜æ•ˆã€ç¨³å®šã€æ˜“ç»´æŠ¤</strong> çš„æµ‹è¯•ä½“ç³»ï¼ ğŸ› ï¸ğŸš€</p>',45)]))}]]),l=JSON.parse('{"path":"/auto/se/pytest/plugin.html","title":"å¸¸ç”¨æ’ä»¶","lang":"zh-CN","frontmatter":{"icon":"pen-to-square","category":["UIè‡ªåŠ¨åŒ–æµ‹è¯•","selenium"],"tag":["selenium","å…ƒç´ å®šä½","pytest","plugin"],"order":3,"sticky":true,"description":"å¸¸ç”¨æ’ä»¶ ä»¥ä¸‹æ˜¯ pytest å¸¸ç”¨æ’ä»¶ çš„è¯¦ç»†è§£æï¼Œæ¶µç›–æ ¸å¿ƒåŠŸèƒ½ã€ä½¿ç”¨åœºæ™¯åŠå®æˆ˜ç¤ºä¾‹ï¼š ä¸€ã€æµ‹è¯•ä½“éªŒå¢å¼º 1. pytest-sugar åŠŸèƒ½ï¼šç¾åŒ–æ§åˆ¶å°è¾“å‡ºï¼Œæ˜¾ç¤ºè¿›åº¦æ¡å’Œå½©è‰²ç»“æœã€‚ å®‰è£…ï¼š æ•ˆæœï¼š ç‰¹æ€§ï¼š è‡ªåŠ¨éšè—å†—é•¿çš„ Traceback ä¿¡æ¯ï¼ˆå¯é…ç½®ï¼‰ æ”¯æŒ --plain å‚æ•°æ¢å¤åŸå§‹è¾“å‡º 2. pytest-html åŠŸèƒ½ï¼šç”Ÿæˆ HTML ...","head":[["meta",{"property":"og:url","content":"https://hekun97.github.io/auto/se/pytest/plugin.html"}],["meta",{"property":"og:site_name","content":"ä¸“ä¸šæ²»å¤´ç§ƒ"}],["meta",{"property":"og:title","content":"å¸¸ç”¨æ’ä»¶"}],["meta",{"property":"og:description","content":"å¸¸ç”¨æ’ä»¶ ä»¥ä¸‹æ˜¯ pytest å¸¸ç”¨æ’ä»¶ çš„è¯¦ç»†è§£æï¼Œæ¶µç›–æ ¸å¿ƒåŠŸèƒ½ã€ä½¿ç”¨åœºæ™¯åŠå®æˆ˜ç¤ºä¾‹ï¼š ä¸€ã€æµ‹è¯•ä½“éªŒå¢å¼º 1. pytest-sugar åŠŸèƒ½ï¼šç¾åŒ–æ§åˆ¶å°è¾“å‡ºï¼Œæ˜¾ç¤ºè¿›åº¦æ¡å’Œå½©è‰²ç»“æœã€‚ å®‰è£…ï¼š æ•ˆæœï¼š ç‰¹æ€§ï¼š è‡ªåŠ¨éšè—å†—é•¿çš„ Traceback ä¿¡æ¯ï¼ˆå¯é…ç½®ï¼‰ æ”¯æŒ --plain å‚æ•°æ¢å¤åŸå§‹è¾“å‡º 2. pytest-html åŠŸèƒ½ï¼šç”Ÿæˆ HTML ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-03-16T15:42:59.000Z"}],["meta",{"property":"article:tag","content":"selenium"}],["meta",{"property":"article:tag","content":"å…ƒç´ å®šä½"}],["meta",{"property":"article:tag","content":"pytest"}],["meta",{"property":"article:tag","content":"plugin"}],["meta",{"property":"article:modified_time","content":"2025-03-16T15:42:59.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"å¸¸ç”¨æ’ä»¶\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-03-16T15:42:59.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"ä¸“ä¸šæ²»å¤´ç§ƒ\\",\\"url\\":\\"https://github.com/hekun97\\"}]}"]]},"git":{"createdTime":1741710583000,"updatedTime":1742139779000,"contributors":[{"name":"hekun97","username":"hekun97","email":"hek97@qq.com","commits":2,"url":"https://github.com/hekun97"}]},"readingTime":{"minutes":2.91,"words":873},"filePathRelative":"auto/se/pytest/plugin.md","localizedDate":"2025å¹´3æœˆ11æ—¥","excerpt":"\\n<p>ä»¥ä¸‹æ˜¯ <strong>pytest å¸¸ç”¨æ’ä»¶</strong> çš„è¯¦ç»†è§£æï¼Œæ¶µç›–æ ¸å¿ƒåŠŸèƒ½ã€ä½¿ç”¨åœºæ™¯åŠå®æˆ˜ç¤ºä¾‹ï¼š</p>\\n<hr>\\n<h3><strong>ä¸€ã€æµ‹è¯•ä½“éªŒå¢å¼º</strong></h3>\\n<h4><strong>1. pytest-sugar</strong></h4>\\n<ul>\\n<li>\\n<p><strong>åŠŸèƒ½</strong>ï¼šç¾åŒ–æ§åˆ¶å°è¾“å‡ºï¼Œæ˜¾ç¤ºè¿›åº¦æ¡å’Œå½©è‰²ç»“æœã€‚</p>\\n</li>\\n<li>\\n<p><strong>å®‰è£…</strong>ï¼š</p>\\n<div class=\\"language-bash line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"bash\\" data-title=\\"bash\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">pip</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> install</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> pytest-sugar</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div></li>\\n<li>\\n<p><strong>æ•ˆæœ</strong>ï¼š</p>\\n<div class=\\"language-bash line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"bash\\" data-title=\\"bash\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">âœ“</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> test_pass.py</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> âœ”</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">âœ—</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> test_fail.py</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> âœ˜</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div></li>\\n<li>\\n<p><strong>ç‰¹æ€§</strong>ï¼š</p>\\n<ul>\\n<li>è‡ªåŠ¨éšè—å†—é•¿çš„ <code>Traceback</code> ä¿¡æ¯ï¼ˆå¯é…ç½®ï¼‰</li>\\n<li>æ”¯æŒ <code>--plain</code> å‚æ•°æ¢å¤åŸå§‹è¾“å‡º</li>\\n</ul>\\n</li>\\n</ul>","autoDesc":true}')},6995:(i,s)=>{s.A=(i,s)=>{const a=i.__vccOpts||i;for(const[i,e]of s)a[i]=e;return a}}}]);