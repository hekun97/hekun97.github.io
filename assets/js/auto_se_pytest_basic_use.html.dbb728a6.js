"use strict";(self.webpackChunkcaelis_terra=self.webpackChunkcaelis_terra||[]).push([[1891],{882:(i,s,a)=>{a.r(s),a.d(s,{comp:()=>e,data:()=>h});var t=a(6254);const n={},e=(0,a(6995).A)(n,[["render",function(i,s){return(0,t.uX)(),(0,t.CE)("div",null,s[0]||(s[0]=[(0,t.Fv)('<h1 id="åŸºç¡€å’Œæ–­è¨€" tabindex="-1"><a class="header-anchor" href="#åŸºç¡€å’Œæ–­è¨€"><span>åŸºç¡€å’Œæ–­è¨€</span></a></h1><p>ä»¥ä¸‹æ˜¯ <strong>pytest æµ‹è¯•æ¡†æ¶</strong> çš„æ ¸å¿ƒä½¿ç”¨æŒ‡å—ï¼Œæ¶µç›–åŸºç¡€ç”¨æ³•ã€æ–­è¨€æ–¹æ³•ã€Fixtureï¼ˆsetup/teardownï¼‰æœºåˆ¶å’Œå¸¸ç”¨æ’ä»¶ï¼š</p><hr><h2 id="ä¸€ã€pytest-åŸºç¡€ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€pytest-åŸºç¡€ä½¿ç”¨"><span><strong>ä¸€ã€pytest åŸºç¡€ä½¿ç”¨</strong></span></a></h2><h3 id="_1-ç‰¹ç‚¹" tabindex="-1"><a class="header-anchor" href="#_1-ç‰¹ç‚¹"><span>1. ç‰¹ç‚¹</span></a></h3><ol><li>éå¸¸å®¹æ˜“ä¸Šæ‰‹ï¼Œå…¥é—¨ç®€å•ï¼Œæ–‡æ¡£ä¸°å¯Œï¼Œæ–‡æ¡£ä¸­æœ‰å¾ˆå¤šå‚è€ƒå®ä¾‹ï¼›</li><li>æ”¯æŒç®€å•çš„å•å…ƒæµ‹è¯•å’Œå¤æ‚çš„åŠŸèƒ½æµ‹è¯•ï¼›</li><li>æ”¯æŒå‚æ•°åŒ–ï¼›</li><li>æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹è¿‡ç¨‹ä¸­ï¼Œæ”¯æŒè·³è¿‡æ“ä½œï¼›</li><li>æ”¯æŒé‡å¤æ‰§è¡Œå¤±è´¥çš„caseï¼›</li><li>æ”¯æŒè¿è¡Œç”±Noseï¼Œunittestç¼–å†™çš„æµ‹è¯•caseï¼›</li><li>pytestæ”¯æŒå¾ˆå¤šç¬¬ä¸‰æ–¹æ’ä»¶ï¼›</li><li>æ–¹ä¾¿çš„å’ŒæŒç»­é›†æˆå·¥å…·é›†æˆã€‚</li></ol><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>å¯¹pytestçš„æ›´å¤šå­¦ä¹ å‚è€ƒï¼š<a href="https://learning-pytest.readthedocs.io/zh/latest/index.html" target="_blank" rel="noopener noreferrer">Pytestæ–‡æ¡£</a>ã€‚</p></div><h3 id="_2-å®‰è£…" tabindex="-1"><a class="header-anchor" href="#_2-å®‰è£…"><span><strong>2. å®‰è£…</strong></span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pytest</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_3-ç¼–å†™æµ‹è¯•ç”¨ä¾‹" tabindex="-1"><a class="header-anchor" href="#_3-ç¼–å†™æµ‹è¯•ç”¨ä¾‹"><span><strong>3. ç¼–å†™æµ‹è¯•ç”¨ä¾‹</strong></span></a></h3><ul><li>æµ‹è¯•æ–‡ä»¶å‘½åï¼š<code>test_*.py</code> æˆ– <code>*_test.py</code></li><li>æµ‹è¯•å‡½æ•°å‘½åï¼šä»¥ <code>test_</code> å¼€å¤´</li><li>æµ‹è¯•ç±»å‘½åï¼šä»¥ <code>Test</code> å¼€å¤´ï¼ˆä¸å« <code>__init__</code> æ–¹æ³•ï¼‰</li></ul><p><strong>ç¤ºä¾‹</strong>ï¼š</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># test_math.py</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> test_addition</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">():</span></span>\n<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">    print</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;-------&gt; test_addition &lt;-------&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # æ–­è¨€</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    assert</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> ==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> TestMath</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> test_subtraction</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E5C07B;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>\n<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">        print</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;-------&gt; test_subtraction &lt;-------&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # æ–­è¨€</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        assert</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> ==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-è¿è¡Œæµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#_4-è¿è¡Œæµ‹è¯•"><span><strong>4. è¿è¡Œæµ‹è¯•</strong></span></a></h3><ul><li><p><strong>å‘½ä»¤è¡Œæ¨¡å¼</strong>ï¼šåœ¨ç»ˆç«¯çª—å£è¿è¡Œæµ‹è¯•ã€‚</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">pytest                     </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># è¿è¡Œæ‰€æœ‰æµ‹è¯•</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">pytest test_math.py        </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># è¿è¡ŒæŒ‡å®šæ–‡ä»¶</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">pytest </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">k </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;subtract&quot;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">       # æŒ‰åç§°ç­›é€‰æµ‹è¯•ç”¨ä¾‹</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">pytest </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">v                  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># æ˜¾ç¤ºè¯¦ç»†è¾“å‡º</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">pytest </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">s                  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># æ”¯æŒæ§åˆ¶å°æ‰“å°ï¼Œå¦‚æœä¸åŠ ï¼Œprint ä¸ä¼šå‡ºç°ä»»ä½•å†…å®¹</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>ä¸»å‡½æ•°æ¨¡å¼</strong>ï¼šåœ¨éœ€è¢«æµ‹è¯•çš„æ–‡ä»¶ï¼ˆ<code>test_math.py</code>ï¼‰ä¸­å¢åŠ ä¸»å‡½æ•°ã€‚</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> __name__</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> ==</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;__main__&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  pytest.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">([</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;-s&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;test_math.py&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>pycharmç›´æ¥è¿è¡Œ</strong>ï¼šåœ¨pycharmè½¯ä»¶ä¸­ç‚¹å‡»å·¦ä¾§è¿è¡ŒæŒ‰é’®ç›´æ¥æ‰§è¡Œå¯¹åº”æµ‹è¯•ç±»ã€æµ‹è¯•æ–¹æ³•æˆ–è€…å³å‡»æ–¹æ³•åã€ç±»åé€‰æ‹©æ‰§è¡Œã€‚</p></li></ul><h3 id="_5-è¿è¡Œç»“æœ" tabindex="-1"><a class="header-anchor" href="#_5-è¿è¡Œç»“æœ"><span>5. è¿è¡Œç»“æœ</span></a></h3><p>å‘½ä»¤è¡Œæ¨¡å¼è¿è¡Œçš„ç»“æœä¸­ï¼š</p><ul><li><code>. </code>è¡¨ç¤ºæˆåŠŸ ï¼›</li><li><code>F </code>è¡¨ç¤ºå¤±è´¥ã€‚</li></ul><hr><h2 id="äºŒã€æ–­è¨€æœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#äºŒã€æ–­è¨€æœºåˆ¶"><span><strong>äºŒã€æ–­è¨€æœºåˆ¶</strong></span></a></h2><p>pytest ä½¿ç”¨åŸç”Ÿ <code>assert</code> è¯­å¥ï¼Œå¹¶è‡ªåŠ¨æä¾› <strong>è¯¦ç»†é”™è¯¯ä¿¡æ¯</strong>ã€‚</p><h3 id="_1-åŸºç¡€æ–­è¨€" tabindex="-1"><a class="header-anchor" href="#_1-åŸºç¡€æ–­è¨€"><span><strong>1. åŸºç¡€æ–­è¨€</strong></span></a></h3><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">assert</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;"> func</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> expected_value  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># åˆ¤æ–­ç›¸ç­‰ï¼Œä¸ç›¸ç­‰ç”¨ã€!=ã€‘</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">assert</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;hello&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> response.text  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># åˆ¤æ–­åŒ…å«ï¼Œä¸åŒ…å«ç”¨ã€not inã€‘</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">assert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> user.is_authenticated </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">is</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> True</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # åˆ¤æ–­ä¸ºTrueï¼Œç›¸åç”¨ã€Falseã€‘</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">assert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> result </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">is</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> None</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # åˆ¤æ–­ä¸ºç©ºï¼Œä¸ä¸ºç©ºç”¨ã€is not Noneã€‘</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>åƒAPIè‡ªåŠ¨åŒ–ä¸­ï¼Œéœ€è¦å®Œæ•´åˆ¤æ–­è¿”å›çš„å“åº”ç»“æœæ˜¯å¦ç›¸ç­‰æ—¶ï¼Œå¯ä»¥ç”¨<code>deppdiff</code>åŒ…ã€‚</p></div><h3 id="_2-å¼‚å¸¸æ–­è¨€" tabindex="-1"><a class="header-anchor" href="#_2-å¼‚å¸¸æ–­è¨€"><span><strong>2. å¼‚å¸¸æ–­è¨€</strong></span></a></h3><p>ä½¿ç”¨ <code>pytest.raises</code> æ•è·é¢„æœŸå¼‚å¸¸ï¼š</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> pytest</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> test_division_by_zero</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">():</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    with</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> pytest.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">raises</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">ZeroDivisionError</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        result </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> /</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-æµ®ç‚¹æ•°è¿‘ä¼¼æ–­è¨€" tabindex="-1"><a class="header-anchor" href="#_3-æµ®ç‚¹æ•°è¿‘ä¼¼æ–­è¨€"><span><strong>3. æµ®ç‚¹æ•°è¿‘ä¼¼æ–­è¨€</strong></span></a></h3><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">assert</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0.1</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0.2</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> ==</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> pytest.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">approx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_4-é›†åˆæ–­è¨€" tabindex="-1"><a class="header-anchor" href="#_4-é›†åˆæ–­è¨€"><span><strong>4. é›†åˆæ–­è¨€</strong></span></a></h3><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">assert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;a&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;b&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">} </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;b&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;a&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># å­—å…¸æ— åºæ¯”è¾ƒé€šè¿‡</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">assert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">!=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]                      </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># åˆ—è¡¨æœ‰åºæ¯”è¾ƒ</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="äº”ã€é«˜çº§æŠ€å·§" tabindex="-1"><a class="header-anchor" href="#äº”ã€é«˜çº§æŠ€å·§"><span><strong>äº”ã€é«˜çº§æŠ€å·§</strong></span></a></h2><h3 id="_1-è·³è¿‡æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#_1-è·³è¿‡æµ‹è¯•"><span><strong>1. è·³è¿‡æµ‹è¯•</strong></span></a></h3><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">@pytest</span><span style="--shiki-light:#4078F2;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mark</span><span style="--shiki-light:#4078F2;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">skip</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">reason</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Not implemented yet&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> test_beta_feature</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">():</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D19A66;">    ...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>åç»­å¯ä»¥å†è¡¥å……ã€‚</p></div><h3 id="_2-æ ‡è®°é¢„æœŸå¤±è´¥" tabindex="-1"><a class="header-anchor" href="#_2-æ ‡è®°é¢„æœŸå¤±è´¥"><span><strong>2. æ ‡è®°é¢„æœŸå¤±è´¥</strong></span></a></h3><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">@pytest</span><span style="--shiki-light:#4078F2;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mark</span><span style="--shiki-light:#4078F2;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">xfail</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> test_experimental</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">():</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#D19A66;">    ...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-ä¸´æ—¶ç›®å½•" tabindex="-1"><a class="header-anchor" href="#_3-ä¸´æ—¶ç›®å½•"><span><strong>3. ä¸´æ—¶ç›®å½•</strong></span></a></h3><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> test_create_file</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">tmp_path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    file</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tmp_path </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;test.txt&quot;</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    file</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">write_text</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Hello&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    assert</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> file</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">read_text</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Hello&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="å…­ã€ç›®å½•ç»“æ„å»ºè®®" tabindex="-1"><a class="header-anchor" href="#å…­ã€ç›®å½•ç»“æ„å»ºè®®"><span><strong>å…­ã€ç›®å½•ç»“æ„å»ºè®®</strong></span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>project/</span></span>\n<span class="line"><span>â”œâ”€â”€ src/                  # é¡¹ç›®æºç </span></span>\n<span class="line"><span>â”œâ”€â”€ tests/                # æµ‹è¯•ä»£ç </span></span>\n<span class="line"><span>â”‚   â”œâ”€â”€ conftest.py       # å…¨å±€ Fixture</span></span>\n<span class="line"><span>â”‚   â”œâ”€â”€ test_api.py</span></span>\n<span class="line"><span>â”‚   â””â”€â”€ test_models.py</span></span>\n<span class="line"><span>â”œâ”€â”€ pytest.ini            # é…ç½®æ–‡ä»¶</span></span>\n<span class="line"><span>â””â”€â”€ requirements.txt</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="ä¸ƒã€æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#ä¸ƒã€æ€»ç»“"><span><strong>ä¸ƒã€æ€»ç»“</strong></span></a></h2><ul><li><strong>æ ¸å¿ƒä¼˜åŠ¿</strong>ï¼šç®€æ´çš„æ–­è¨€è¯­æ³•ã€å¼ºå¤§çš„ Fixture ç³»ç»Ÿã€ä¸°å¯Œçš„æ’ä»¶ç”Ÿæ€ã€‚</li><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå•å…ƒæµ‹è¯•ã€æ¥å£æµ‹è¯•ã€UI æµ‹è¯•ï¼ˆé…åˆ Selenium/Playwrightï¼‰ã€‚</li><li><strong>å­¦ä¹ èµ„æº</strong>ï¼š <ul><li>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.pytest.org" target="_blank" rel="noopener noreferrer">https://docs.pytest.org</a></li><li><code>pytest --help</code> æŸ¥çœ‹å‘½ä»¤è¡Œé€‰é¡¹</li></ul></li></ul><p>æŒæ¡ pytest å¯æ˜¾è‘—æå‡æµ‹è¯•ä»£ç çš„ <strong>å¯ç»´æŠ¤æ€§å’Œæ‰§è¡Œæ•ˆç‡</strong>ï¼ ğŸš€</p>',47)]))}]]),h=JSON.parse('{"path":"/auto/se/pytest/basic_use.html","title":"åŸºç¡€å’Œæ–­è¨€","lang":"zh-CN","frontmatter":{"icon":"pen-to-square","category":["UIè‡ªåŠ¨åŒ–æµ‹è¯•","selenium"],"tag":["selenium","å…ƒç´ å®šä½","pytest","base"],"order":1,"sticky":true,"description":"åŸºç¡€å’Œæ–­è¨€ ä»¥ä¸‹æ˜¯ pytest æµ‹è¯•æ¡†æ¶ çš„æ ¸å¿ƒä½¿ç”¨æŒ‡å—ï¼Œæ¶µç›–åŸºç¡€ç”¨æ³•ã€æ–­è¨€æ–¹æ³•ã€Fixtureï¼ˆsetup/teardownï¼‰æœºåˆ¶å’Œå¸¸ç”¨æ’ä»¶ï¼š ä¸€ã€pytest åŸºç¡€ä½¿ç”¨ 1. ç‰¹ç‚¹ éå¸¸å®¹æ˜“ä¸Šæ‰‹ï¼Œå…¥é—¨ç®€å•ï¼Œæ–‡æ¡£ä¸°å¯Œï¼Œæ–‡æ¡£ä¸­æœ‰å¾ˆå¤šå‚è€ƒå®ä¾‹ï¼› æ”¯æŒç®€å•çš„å•å…ƒæµ‹è¯•å’Œå¤æ‚çš„åŠŸèƒ½æµ‹è¯•ï¼› æ”¯æŒå‚æ•°åŒ–ï¼› æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹è¿‡ç¨‹ä¸­ï¼Œæ”¯æŒè·³è¿‡æ“ä½œï¼› æ”¯æŒé‡å¤æ‰§è¡Œå¤±è´¥çš„c...","head":[["meta",{"property":"og:url","content":"https://hekun97.github.io/auto/se/pytest/basic_use.html"}],["meta",{"property":"og:site_name","content":"ä¸“ä¸šæ²»å¤´ç§ƒ"}],["meta",{"property":"og:title","content":"åŸºç¡€å’Œæ–­è¨€"}],["meta",{"property":"og:description","content":"åŸºç¡€å’Œæ–­è¨€ ä»¥ä¸‹æ˜¯ pytest æµ‹è¯•æ¡†æ¶ çš„æ ¸å¿ƒä½¿ç”¨æŒ‡å—ï¼Œæ¶µç›–åŸºç¡€ç”¨æ³•ã€æ–­è¨€æ–¹æ³•ã€Fixtureï¼ˆsetup/teardownï¼‰æœºåˆ¶å’Œå¸¸ç”¨æ’ä»¶ï¼š ä¸€ã€pytest åŸºç¡€ä½¿ç”¨ 1. ç‰¹ç‚¹ éå¸¸å®¹æ˜“ä¸Šæ‰‹ï¼Œå…¥é—¨ç®€å•ï¼Œæ–‡æ¡£ä¸°å¯Œï¼Œæ–‡æ¡£ä¸­æœ‰å¾ˆå¤šå‚è€ƒå®ä¾‹ï¼› æ”¯æŒç®€å•çš„å•å…ƒæµ‹è¯•å’Œå¤æ‚çš„åŠŸèƒ½æµ‹è¯•ï¼› æ”¯æŒå‚æ•°åŒ–ï¼› æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹è¿‡ç¨‹ä¸­ï¼Œæ”¯æŒè·³è¿‡æ“ä½œï¼› æ”¯æŒé‡å¤æ‰§è¡Œå¤±è´¥çš„c..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-03-16T15:42:59.000Z"}],["meta",{"property":"article:tag","content":"selenium"}],["meta",{"property":"article:tag","content":"å…ƒç´ å®šä½"}],["meta",{"property":"article:tag","content":"pytest"}],["meta",{"property":"article:tag","content":"base"}],["meta",{"property":"article:modified_time","content":"2025-03-16T15:42:59.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"åŸºç¡€å’Œæ–­è¨€\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-03-16T15:42:59.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"ä¸“ä¸šæ²»å¤´ç§ƒ\\",\\"url\\":\\"https://github.com/hekun97\\"}]}"]]},"git":{"createdTime":1741624426000,"updatedTime":1742139779000,"contributors":[{"name":"hekun97","username":"hekun97","email":"hek97@qq.com","commits":4,"url":"https://github.com/hekun97"}]},"readingTime":{"minutes":2.71,"words":814},"filePathRelative":"auto/se/pytest/basic_use.md","localizedDate":"2025å¹´3æœˆ10æ—¥","excerpt":"\\n<p>ä»¥ä¸‹æ˜¯ <strong>pytest æµ‹è¯•æ¡†æ¶</strong> çš„æ ¸å¿ƒä½¿ç”¨æŒ‡å—ï¼Œæ¶µç›–åŸºç¡€ç”¨æ³•ã€æ–­è¨€æ–¹æ³•ã€Fixtureï¼ˆsetup/teardownï¼‰æœºåˆ¶å’Œå¸¸ç”¨æ’ä»¶ï¼š</p>\\n<hr>\\n<h2><strong>ä¸€ã€pytest åŸºç¡€ä½¿ç”¨</strong></h2>\\n<h3>1. ç‰¹ç‚¹</h3>\\n<ol>\\n<li>éå¸¸å®¹æ˜“ä¸Šæ‰‹ï¼Œå…¥é—¨ç®€å•ï¼Œæ–‡æ¡£ä¸°å¯Œï¼Œæ–‡æ¡£ä¸­æœ‰å¾ˆå¤šå‚è€ƒå®ä¾‹ï¼›</li>\\n<li>æ”¯æŒç®€å•çš„å•å…ƒæµ‹è¯•å’Œå¤æ‚çš„åŠŸèƒ½æµ‹è¯•ï¼›</li>\\n<li>æ”¯æŒå‚æ•°åŒ–ï¼›</li>\\n<li>æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹è¿‡ç¨‹ä¸­ï¼Œæ”¯æŒè·³è¿‡æ“ä½œï¼›</li>\\n<li>æ”¯æŒé‡å¤æ‰§è¡Œå¤±è´¥çš„caseï¼›</li>\\n<li>æ”¯æŒè¿è¡Œç”±Noseï¼Œunittestç¼–å†™çš„æµ‹è¯•caseï¼›</li>\\n<li>pytestæ”¯æŒå¾ˆå¤šç¬¬ä¸‰æ–¹æ’ä»¶ï¼›</li>\\n<li>æ–¹ä¾¿çš„å’ŒæŒç»­é›†æˆå·¥å…·é›†æˆã€‚</li>\\n</ol>","autoDesc":true}')},6995:(i,s)=>{s.A=(i,s)=>{const a=i.__vccOpts||i;for(const[i,t]of s)a[i]=t;return a}}}]);