"use strict";(self.webpackChunkcaelis_terra=self.webpackChunkcaelis_terra||[]).push([[6098],{3770:(e,t,a)=>{a.r(t),a.d(t,{comp:()=>i,data:()=>s});var n=a(6254);const r={},i=(0,a(6995).A)(r,[["render",function(e,t){return(0,n.uX)(),(0,n.CE)("div",null,t[0]||(t[0]=[(0,n.Fv)('<h1 id="详解-csv-数据文件设置" tabindex="-1"><a class="header-anchor" href="#详解-csv-数据文件设置"><span>详解 CSV 数据文件设置</span></a></h1><h2 id="了解一哈什么是-csv-文件" tabindex="-1"><a class="header-anchor" href="#了解一哈什么是-csv-文件"><span>了解一哈什么是 CSV 文件</span></a></h2><ul><li>为了实现简单的数据存储，是一个纯文本的文件</li><li>最通用的一种文件格式，它可以非常容易地被导入各种PC表格及数据库中</li><li>CSV 文件可以用记事本、excel打开；用记事本打开的话，每一列数据都用逗号隔开</li></ul><h2 id="为什么要用-csv-数据文件" tabindex="-1"><a class="header-anchor" href="#为什么要用-csv-数据文件"><span>为什么要用 CSV 数据文件？</span></a></h2><ul><li>从外部导入测试数据，相当于数据参数化</li><li>通过从文件中导入大量的测试数据，来模拟大量真实用户发送并发请求</li></ul><h2 id="csv-数据文件设置" tabindex="-1"><a class="header-anchor" href="#csv-数据文件设置"><span>CSV 数据文件设置</span></a></h2><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200624155812960-1450149285.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200624155812960-1450149285.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h2 id="csv-数据文件设置界面介绍" tabindex="-1"><a class="header-anchor" href="#csv-数据文件设置界面介绍"><span>CSV 数据文件设置界面介绍</span></a></h2><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200624155817643-1110206203.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200624155817643-1110206203.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h4 id="字段含义" tabindex="-1"><a class="header-anchor" href="#字段含义"><span>字段含义</span></a></h4><table><thead><tr><th>字段</th><th>含义</th></tr></thead><tbody><tr><td>Filename</td><td>文件名</td></tr><tr><td>File encoding</td><td>文件编码</td></tr><tr><td>Variable Names</td><td>变量名称多个变量用 , 分隔</td></tr><tr><td>Ignore first line</td><td>忽略首行只在设置了变量名称后才生效</td></tr><tr><td>Delimiter</td><td>分隔符默认 ,</td></tr><tr><td>Allow quoted data?</td><td>是否允许带引号</td></tr><tr><td>Recycle on EOF?</td><td>遇到文件结束符EOF 后再次循环</td></tr><tr><td>Stop thread on EOF?</td><td>遇到文件结束符EOF 后停止运行线程？</td></tr><tr><td>Sharing mode</td><td>线程共享模式</td></tr></tbody></table><p>后续通过各种栗子来深入理解常用字段的含义</p><h2 id="单个字段的栗子" tabindex="-1"><a class="header-anchor" href="#单个字段的栗子"><span>单个字段的栗子</span></a></h2><h3 id="csv-测试数据" tabindex="-1"><a class="header-anchor" href="#csv-测试数据"><span>csv 测试数据</span></a></h3><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200624165643585-1585211284.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200624165643585-1585211284.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><p>这里用记事本方式当 CSV 数据文件，共有 10 条记录</p><h3 id="线程组结构树" tabindex="-1"><a class="header-anchor" href="#线程组结构树"><span>线程组结构树</span></a></h3><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200624163517868-624970903.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200624163517868-624970903.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><p>${num} 是计数器里面声明的变量，从 1 开始递增到 15</p><h3 id="线程组属性" tabindex="-1"><a class="header-anchor" href="#线程组属性"><span>线程组属性</span></a></h3><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200624165721942-913214968.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200624165721942-913214968.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><p>线程数和数据量一致，都是 15</p><h3 id="csv-数据文件设置-1" tabindex="-1"><a class="header-anchor" href="#csv-数据文件设置-1"><span>csv 数据文件设置</span></a></h3><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200624163721583-1763222563.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200624163721583-1763222563.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h3 id="运行结果" tabindex="-1"><a class="header-anchor" href="#运行结果"><span>运行结果</span></a></h3><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200624165730799-246910570.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200624165730799-246910570.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h3 id="知识点" tabindex="-1"><a class="header-anchor" href="#知识点"><span>知识点</span></a></h3><ul><li>**忽略首行 True：**一般首行都是字段名字，比如栗子的 mobile，一般都需要忽略除非没有字段名</li><li>**是否允许带引号 False：**可以看到有引号的三条记录 8、9、10，都还是保留了引号</li><li>**再次循环 True：**csv 文件共有 10 条记录，但线程数有 15 个，循环 10 次后，重头开始循环；可以看到 11-15的手机号和1-5的手机号</li><li>**停止线程 False：**取了 10 次值之后就到了文件尾部，但并不会停止运行线程，后面会举个反例</li></ul><h2 id="多个字段的综合栗子" tabindex="-1"><a class="header-anchor" href="#多个字段的综合栗子"><span>多个字段的综合栗子</span></a></h2><h3 id="csv-测试数据-1" tabindex="-1"><a class="header-anchor" href="#csv-测试数据-1"><span>csv 测试数据</span></a></h3><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200624170910162-1217654336.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200624170910162-1217654336.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><p>两个字段，共有 10 条记录，最后三条记录有分别有三种引号</p><h3 id="csv-数据文件设置-2" tabindex="-1"><a class="header-anchor" href="#csv-数据文件设置-2"><span>csv 数据文件设置</span></a></h3><p>线程组结构树和上面栗子差不多一样，线程数仍然 = 15</p><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200624171521860-295972186.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200624171521860-295972186.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><p>**和第一个例子的配置项相反：**不忽略首行，允许带引号，遇到文件结束符不再循环</p><h3 id="运行结果-1" tabindex="-1"><a class="header-anchor" href="#运行结果-1"><span>运行结果</span></a></h3><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200624171526533-1078946007.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200624171526533-1078946007.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><ul><li>不忽略首行就会把首行的字段名都返回回来，如：1-mobile-age</li><li>数据有<strong>双引号</strong> &quot;&quot; 时，会把双引号忽略掉， &#39;&#39; 单引号不算</li><li>EOF 是文件结束符，没有开启再次循环时，会直接返回 EOF</li></ul><h2 id="开启遇到文件结束符停止线程" tabindex="-1"><a class="header-anchor" href="#开启遇到文件结束符停止线程"><span>开启遇到文件结束符停止线程</span></a></h2><p>还是上个栗子的线程组，只是改了下配置项</p><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200624173333057-1142291181.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200624173333057-1142291181.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h4 id="运行结果-2" tabindex="-1"><a class="header-anchor" href="#运行结果-2"><span>运行结果</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200624173339298-1169180346.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200624173339298-1169180346.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><p>可以看到，线程数 = 15，但只有 10 条数据，当跑了 10 个线程后，没有数据了，所以停止运行</p>',45)]))}]]),s=JSON.parse('{"path":"/jmeter/guide/config/csv.html","title":"详解 CSV 数据文件设置","lang":"zh-CN","frontmatter":{"icon":"pen-to-square","category":["JMeter"],"tag":["config","csv"],"order":2,"sticky":true,"description":"详解 CSV 数据文件设置 了解一哈什么是 CSV 文件 为了实现简单的数据存储，是一个纯文本的文件 最通用的一种文件格式，它可以非常容易地被导入各种PC表格及数据库中 CSV 文件可以用记事本、excel打开；用记事本打开的话，每一列数据都用逗号隔开 为什么要用 CSV 数据文件？ 从外部导入测试数据，相当于数据参数化 通过从文件中导入大量的测试数据...","head":[["meta",{"property":"og:url","content":"https://hekun97.github.io/jmeter/guide/config/csv.html"}],["meta",{"property":"og:site_name","content":"专业治头秃"}],["meta",{"property":"og:title","content":"详解 CSV 数据文件设置"}],["meta",{"property":"og:description","content":"详解 CSV 数据文件设置 了解一哈什么是 CSV 文件 为了实现简单的数据存储，是一个纯文本的文件 最通用的一种文件格式，它可以非常容易地被导入各种PC表格及数据库中 CSV 文件可以用记事本、excel打开；用记事本打开的话，每一列数据都用逗号隔开 为什么要用 CSV 数据文件？ 从外部导入测试数据，相当于数据参数化 通过从文件中导入大量的测试数据..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://hekun97.github.io/assets/jmeter/1896874-20200624155812960-1450149285.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-03-28T17:43:32.000Z"}],["meta",{"property":"article:tag","content":"config"}],["meta",{"property":"article:tag","content":"csv"}],["meta",{"property":"article:modified_time","content":"2025-03-28T17:43:32.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"详解 CSV 数据文件设置\\",\\"image\\":[\\"https://hekun97.github.io/assets/jmeter/1896874-20200624155812960-1450149285.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200624155817643-1110206203.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200624165643585-1585211284.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200624163517868-624970903.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200624165721942-913214968.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200624163721583-1763222563.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200624165730799-246910570.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200624170910162-1217654336.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200624171521860-295972186.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200624171526533-1078946007.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200624173333057-1142291181.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200624173339298-1169180346.png\\"],\\"dateModified\\":\\"2025-03-28T17:43:32.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"专业治头秃\\",\\"url\\":\\"https://github.com/hekun97\\"}]}"]]},"git":{"createdTime":1743183812000,"updatedTime":1743183812000,"contributors":[{"name":"hekun97","username":"hekun97","email":"hek97@qq.com","commits":1,"url":"https://github.com/hekun97"}]},"readingTime":{"minutes":2.98,"words":893},"filePathRelative":"jmeter/guide/config/csv.md","localizedDate":"2025年3月28日","excerpt":"\\n<h2>了解一哈什么是 CSV 文件</h2>\\n<ul>\\n<li>为了实现简单的数据存储，是一个纯文本的文件</li>\\n<li>最通用的一种文件格式，它可以非常容易地被导入各种PC表格及数据库中</li>\\n<li>CSV 文件可以用记事本、excel打开；用记事本打开的话，每一列数据都用逗号隔开</li>\\n</ul>\\n<h2>为什么要用 CSV 数据文件？</h2>\\n<ul>\\n<li>从外部导入测试数据，相当于数据参数化</li>\\n<li>通过从文件中导入大量的测试数据，来模拟大量真实用户发送并发请求</li>\\n</ul>\\n<h2>CSV 数据文件设置</h2>\\n<figure><a href=\\"https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200624155812960-1450149285.png\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\"><img src=\\"/assets/jmeter/1896874-20200624155812960-1450149285.png\\" alt=\\"img\\" tabindex=\\"0\\" loading=\\"lazy\\"></a><figcaption>img</figcaption></figure>","autoDesc":true}')},6995:(e,t)=>{t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[e,n]of t)a[e]=n;return a}}}]);