"use strict";(self.webpackChunkcaelis_terra=self.webpackChunkcaelis_terra||[]).push([[3932],{6995:(s,i)=>{i.A=(s,i)=>{const t=s.__vccOpts||s;for(const[s,e]of i)t[s]=e;return t}},7847:(s,i,t)=>{t.r(i),t.d(i,{comp:()=>a,data:()=>h});var e=t(6254);const n={},a=(0,t(6995).A)(n,[["render",function(s,i){return(0,e.uX)(),(0,e.CE)("div",null,i[0]||(i[0]=[(0,e.Fv)('<h1 id="selenium-4-和-selenium-3" tabindex="-1"><a class="header-anchor" href="#selenium-4-和-selenium-3"><span>Selenium 4 和 Selenium 3</span></a></h1><p>以下是 <strong>Selenium 4.0</strong> 与 <strong>Selenium 3.0</strong> 的主要区别，从功能改进、API 变化到生态适配进行对比：</p><h3 id="一、核心改进" tabindex="-1"><a class="header-anchor" href="#一、核心改进"><span><strong>一、核心改进</strong></span></a></h3><table><thead><tr><th><strong>特性</strong></th><th><strong>Selenium 3.0</strong></th><th><strong>Selenium 4.0</strong></th></tr></thead><tbody><tr><td><strong>相对定位器</strong></td><td>❌ 不支持</td><td>✅ 新增 <code>RelativeLocator</code>（基于元素位置关系定位，如 <code>above()</code>, <code>below()</code>, <code>near()</code>）</td></tr><tr><td><strong>Chrome DevTools 支持</strong></td><td>❌ 需依赖第三方库（如 <code>puppeteer</code>）</td><td>✅ 原生集成 <code>ChromeDevTools</code>，支持网络拦截、性能分析、地理位置模拟等</td></tr><tr><td><strong>多标签页/窗口管理</strong></td><td>❌ 需通过 <code>driver.switchTo().window()</code> 切换</td><td>✅ 新增 <code>newWindow()</code> 方法，直接指定打开类型（标签页或窗口）</td></tr><tr><td><strong>文档结构</strong></td><td>❌ 文档分散且部分过时</td><td>✅ 官网文档全面重构，提供更清晰的模块化指南和示例</td></tr></tbody></table><hr><h3 id="二、api-变化" tabindex="-1"><a class="header-anchor" href="#二、api-变化"><span><strong>二、API 变化</strong></span></a></h3><table><thead><tr><th><strong>变更点</strong></th><th><strong>Selenium 3.0</strong></th><th><strong>Selenium 4.0</strong></th></tr></thead><tbody><tr><td><strong>浏览器驱动管理</strong></td><td>❌ 手动下载并配置驱动路径</td><td>✅ 内置 <code>Selenium Manager</code>（Beta），自动下载匹配的浏览器驱动</td></tr><tr><td><strong>浏览器选项设置</strong></td><td>❌ 使用 <code>DesiredCapabilities</code></td><td>✅ 改用 <code>Browser Options</code> 类（如 <code>ChromeOptions</code>）</td></tr><tr><td><strong>等待机制</strong></td><td>❌ 显式等待需自定义条件</td><td>✅ 新增 <code>ExpectedConditions</code> 简写方法（如 <code>element_to_be_clickable</code>）</td></tr><tr><td><strong>日志控制</strong></td><td>❌ 日志配置复杂</td><td>✅ 通过 <code>LoggingPreferences</code> 或 <code>Options</code> 直接配置</td></tr></tbody></table><hr><h3 id="三、生态与兼容性" tabindex="-1"><a class="header-anchor" href="#三、生态与兼容性"><span><strong>三、生态与兼容性</strong></span></a></h3><table><thead><tr><th><strong>变更点</strong></th><th><strong>Selenium 3.0</strong></th><th><strong>Selenium 4.0</strong></th></tr></thead><tbody><tr><td><strong>W3C 协议支持</strong></td><td>❌ 部分命令使用 JSON Wire Protocol</td><td>✅ 默认全面兼容 <strong>W3C WebDriver 标准</strong>，提升跨浏览器一致性</td></tr><tr><td><strong>旧版浏览器支持</strong></td><td>✅ 支持旧版浏览器（如 IE 11）</td><td>❌ 移除对过时浏览器的官方支持（如不再默认支持 IE 11）</td></tr><tr><td><strong>Java 版本依赖</strong></td><td>✅ 支持 Java 7+</td><td>❌ 最低要求 <strong>Java 8+</strong></td></tr><tr><td><strong>Python 兼容性</strong></td><td>✅ 兼容 Python 3.5+</td><td>❌ 最低要求 <strong>Python 3.7+</strong></td></tr></tbody></table><hr><h3 id="四、新增工具与特性" tabindex="-1"><a class="header-anchor" href="#四、新增工具与特性"><span><strong>四、新增工具与特性</strong></span></a></h3><h4 id="_1-增强的截图功能" tabindex="-1"><a class="header-anchor" href="#_1-增强的截图功能"><span><strong>1. 增强的截图功能</strong></span></a></h4><ul><li><strong>元素级截图</strong>：直接截取特定元素而非整个页面。<div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">element </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> driver.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">find_element</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(By.</span><span style="--shiki-light:#383A42;--shiki-dark:#D19A66;">ID</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;logo&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">element.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">screenshot</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;logo.png&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="_2-改进的弹窗处理" tabindex="-1"><a class="header-anchor" href="#_2-改进的弹窗处理"><span><strong>2. 改进的弹窗处理</strong></span></a></h4><ul><li><strong>原生弹窗拦截</strong>：通过 <code>ChromiumOptions</code> 直接禁用弹窗。<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">ChromeOptions</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> options </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> ChromeOptions</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">options</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">setExperimentalOption</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;excludeSwitches&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">Arrays</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">asList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;disable-popup-blocking&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">));</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="_3-性能监控" tabindex="-1"><a class="header-anchor" href="#_3-性能监控"><span><strong>3. 性能监控</strong></span></a></h4><ul><li><strong>DevTools 集成</strong>：直接获取页面性能指标。<div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">dev_tools </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> driver.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">get_devtools</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">dev_tools.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">create_session</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">dev_tools.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">send</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Performance.enable&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">metrics </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> dev_tools.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">send</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Performance.getMetrics&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><hr><h3 id="五、升级注意事项" tabindex="-1"><a class="header-anchor" href="#五、升级注意事项"><span><strong>五、升级注意事项</strong></span></a></h3><ol><li><strong>驱动兼容性</strong>：确保浏览器驱动版本与 Selenium 4.0 兼容（如 ChromeDriver ≥ 95.0.4638.69）。</li><li><strong>代码迁移</strong>： <ul><li>替换 <code>DesiredCapabilities</code> 为 <code>Browser Options</code>。</li><li>检查已弃用方法（如 <code>find_element_by_*</code> 改用 <code>find_element(By.*)</code>）。</li></ul></li><li><strong>依赖冲突</strong>：升级后检查第三方库（如 <code>selenium-wire</code>）是否兼容。</li></ol><hr><h3 id="六、示例对比" tabindex="-1"><a class="header-anchor" href="#六、示例对比"><span><strong>六、示例对比</strong></span></a></h3><h4 id="selenium-3-0-创建驱动" tabindex="-1"><a class="header-anchor" href="#selenium-3-0-创建驱动"><span><strong>Selenium 3.0 创建驱动</strong></span></a></h4><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 旧版使用 DesiredCapabilities</span></span>\n<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">DesiredCapabilities</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> caps </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> DesiredCapabilities</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chrome</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">caps</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">setCapability</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;platform&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Windows 10&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">WebDriver</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> driver </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> ChromeDriver</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(caps)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="selenium-4-0-创建驱动" tabindex="-1"><a class="header-anchor" href="#selenium-4-0-创建驱动"><span><strong>Selenium 4.0 创建驱动</strong></span></a></h4><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 新版使用 ChromeOptions</span></span>\n<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">ChromeOptions</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> options </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> ChromeOptions</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">options</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">setPlatformName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Windows 10&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">WebDriver</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> driver </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> ChromeDriver</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(options)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span><strong>总结</strong></span></a></h3><p>升级到 <strong>Selenium 4.0</strong> 可显著提升测试稳定性、可维护性，并简化复杂场景（如网络拦截、元素截图）的实现。建议优先评估团队技术栈兼容性后逐步迁移。</p>',30)]))}]]),h=JSON.parse('{"path":"/auto/se/intro/selenium4_and_selenium3.html","title":"Selenium 4 和 Selenium 3","lang":"zh-CN","frontmatter":{"description":"Selenium 4 和 Selenium 3 以下是 Selenium 4.0 与 Selenium 3.0 的主要区别，从功能改进、API 变化到生态适配进行对比： 一、核心改进 二、API 变化 三、生态与兼容性 四、新增工具与特性 1. 增强的截图功能 元素级截图：直接截取特定元素而非整个页面。 2. 改进的弹窗处理 原生弹窗拦截：通过 Chr...","head":[["meta",{"property":"og:url","content":"https://hekun97.github.io/auto/se/intro/selenium4_and_selenium3.html"}],["meta",{"property":"og:site_name","content":"专业治头秃"}],["meta",{"property":"og:title","content":"Selenium 4 和 Selenium 3"}],["meta",{"property":"og:description","content":"Selenium 4 和 Selenium 3 以下是 Selenium 4.0 与 Selenium 3.0 的主要区别，从功能改进、API 变化到生态适配进行对比： 一、核心改进 二、API 变化 三、生态与兼容性 四、新增工具与特性 1. 增强的截图功能 元素级截图：直接截取特定元素而非整个页面。 2. 改进的弹窗处理 原生弹窗拦截：通过 Chr..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-03-10T16:33:46.000Z"}],["meta",{"property":"article:modified_time","content":"2025-03-10T16:33:46.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Selenium 4 和 Selenium 3\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-03-10T16:33:46.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"专业治头秃\\",\\"url\\":\\"https://github.com/hekun97\\"}]}"]]},"git":{"createdTime":1741624426000,"updatedTime":1741624426000,"contributors":[{"name":"hekun97","username":"hekun97","email":"hek97@qq.com","commits":1,"url":"https://github.com/hekun97"}]},"readingTime":{"minutes":2.29,"words":688},"filePathRelative":"auto/se/intro/selenium4_and_selenium3.md","localizedDate":"2025年3月10日","excerpt":"\\n<p>以下是 <strong>Selenium 4.0</strong> 与 <strong>Selenium 3.0</strong> 的主要区别，从功能改进、API 变化到生态适配进行对比：</p>\\n<h3><strong>一、核心改进</strong></h3>\\n<table>\\n<thead>\\n<tr>\\n<th><strong>特性</strong></th>\\n<th><strong>Selenium 3.0</strong></th>\\n<th><strong>Selenium 4.0</strong></th>\\n</tr>\\n</thead>\\n<tbody>\\n<tr>\\n<td><strong>相对定位器</strong></td>\\n<td>❌ 不支持</td>\\n<td>✅ 新增 <code>RelativeLocator</code>（基于元素位置关系定位，如 <code>above()</code>, <code>below()</code>, <code>near()</code>）</td>\\n</tr>\\n<tr>\\n<td><strong>Chrome DevTools 支持</strong></td>\\n<td>❌ 需依赖第三方库（如 <code>puppeteer</code>）</td>\\n<td>✅ 原生集成 <code>ChromeDevTools</code>，支持网络拦截、性能分析、地理位置模拟等</td>\\n</tr>\\n<tr>\\n<td><strong>多标签页/窗口管理</strong></td>\\n<td>❌ 需通过 <code>driver.switchTo().window()</code> 切换</td>\\n<td>✅ 新增 <code>newWindow()</code> 方法，直接指定打开类型（标签页或窗口）</td>\\n</tr>\\n<tr>\\n<td><strong>文档结构</strong></td>\\n<td>❌ 文档分散且部分过时</td>\\n<td>✅ 官网文档全面重构，提供更清晰的模块化指南和示例</td>\\n</tr>\\n</tbody>\\n</table>","autoDesc":true}')}}]);