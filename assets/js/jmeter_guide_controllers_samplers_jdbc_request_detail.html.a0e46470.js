"use strict";(self.webpackChunkcaelis_terra=self.webpackChunkcaelis_terra||[]).push([[4562],{1301:(e,t,a)=>{a.r(t),a.d(t,{comp:()=>s,data:()=>i});var r=a(6254);const n={},s=(0,a(6995).A)(n,[["render",function(e,t){return(0,r.uX)(),(0,r.CE)("div",null,t[0]||(t[0]=[(0,r.Fv)('<h1 id="详解-jdbc-request" tabindex="-1"><a class="header-anchor" href="#详解-jdbc-request"><span>详解 JDBC Request</span></a></h1><h2 id="前言" tabindex="-1"><a class="header-anchor" href="#前言"><span>前言</span></a></h2><ul><li>JDBC Request 主要是向数据库发送一个 JDBC 请求（sql 语句），并获取返回的数据集</li><li>它需要和数据库连接池配置（JDBC Connection Configuration）一起使用，可参考此篇博文：<a href="https://www.cnblogs.com/poloyy/p/13182706.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/poloyy/p/13182706.html</a></li></ul><h2 id="jdbc-request" tabindex="-1"><a class="header-anchor" href="#jdbc-request"><span>JDBC Request</span></a></h2><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200623201358973-1094593440.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200623201358973-1094593440.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h2 id="jdbc-request-界面介绍" tabindex="-1"><a class="header-anchor" href="#jdbc-request-界面介绍"><span>JDBC Request 界面介绍</span></a></h2><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200623201401754-685119106.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200623201401754-685119106.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h4 id="字段含义" tabindex="-1"><a class="header-anchor" href="#字段含义"><span>字段含义</span></a></h4><table><thead><tr><th>字段</th><th>含义</th></tr></thead><tbody><tr><td>Variable Name Bound to Pool</td><td>数据库连接池配置的名称</td></tr><tr><td>Query Type</td><td>sql 语句的类型</td></tr><tr><td>SQL Query</td><td>sql 语句语句结尾不需要添加 ; 变量用 ? 占位</td></tr><tr><td>Parameter values</td><td>需要传递的变量值，多个变量用 , 分隔</td></tr><tr><td>Parameter types</td><td>变量类型</td></tr><tr><td>Variable Names</td><td>保存sql语句返回的数据和返回数据的总行数用 , 分隔跳过列用空</td></tr><tr><td>Result Variable Name</td><td>一个 Object 变量存储所有返回值</td></tr><tr><td>Query timeout(s)</td><td>超时时间；默认0，代表无限时间</td></tr><tr><td>Limit ResultSet</td><td>和 limit 类似作用，限制 sql 语句返回结果集的行数</td></tr><tr><td>Handle ResultSet</td><td>如何定义 callable statements 返回的结果集；默认是存储为字符串</td></tr></tbody></table><p>后续通过各种栗子来深入理解常用字段的含义</p><h2 id="举栗子的前提" tabindex="-1"><a class="header-anchor" href="#举栗子的前提"><span>举栗子的前提</span></a></h2><p>需要自己找一个有数据库的数据来练手哦！这里拿的表数据如下哈</p><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200623214842008-300494479.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200623214842008-300494479.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h2 id="只有-sql-语句的栗子" tabindex="-1"><a class="header-anchor" href="#只有-sql-语句的栗子"><span>只有 sql 语句的栗子</span></a></h2><h4 id="jdbc-request-1" tabindex="-1"><a class="header-anchor" href="#jdbc-request-1"><span>JDBC Request</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200623214848277-1330496656.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200623214848277-1330496656.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><p>没啥特别的，平时 sql 怎么写，这里就怎么写</p><h4 id="运行结果" tabindex="-1"><a class="header-anchor" href="#运行结果"><span>运行结果</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200623214855093-1093252.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200623214855093-1093252.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h2 id="参数化的栗子" tabindex="-1"><a class="header-anchor" href="#参数化的栗子"><span>参数化的栗子</span></a></h2><h4 id="jdbc-request-2" tabindex="-1"><a class="header-anchor" href="#jdbc-request-2"><span>JDBC Request</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200624094037580-1947409040.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200624094037580-1947409040.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h4 id="运行结果-1" tabindex="-1"><a class="header-anchor" href="#运行结果-1"><span>运行结果</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200624094041915-1046700033.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200624094041915-1046700033.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h4 id="知识点" tabindex="-1"><a class="header-anchor" href="#知识点"><span>知识点</span></a></h4><ul><li>有几个问号，Parameter value、Parameter type 填写<strong>值的数量要保持一致</strong>，用,分隔</li><li>问号其实是<strong>占位符</strong>，如果学过编程的童鞋应该也知道这种写法，可以<strong>避免 SQL 注入</strong>的问题</li><li>sql 中<strong>使用占位符</strong>时，<strong>Query Type</strong> <strong>必须选择</strong> Prepared Select Statement 或者 Prepared Update Statement</li><li>我们可以用 Jmeter 变量去赋值，看下面栗子</li></ul><h2 id="参数化-变量的栗子" tabindex="-1"><a class="header-anchor" href="#参数化-变量的栗子"><span>参数化+变量的栗子</span></a></h2><h4 id="jdbc-request-3" tabindex="-1"><a class="header-anchor" href="#jdbc-request-3"><span>JDBC Request</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200624095106562-1162528683.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200624095106562-1162528683.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h4 id="运行结果-2" tabindex="-1"><a class="header-anchor" href="#运行结果-2"><span>运行结果</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200624095112131-1376926478.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200624095112131-1376926478.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h4 id="知识点-1" tabindex="-1"><a class="header-anchor" href="#知识点-1"><span>知识点</span></a></h4><ul><li>如果在 sql 语句中使用变量，且是字符串类型，需要加上引号（前提是变量值没有加引号），如 &#39;${name}&#39;</li><li>如果在 Parameter values 中使用变量，且是字符串类型，不需要加上引号，只需要在 Parameter types 里写明为 varchar 即可</li></ul><h2 id="使用-variable-names-的栗子" tabindex="-1"><a class="header-anchor" href="#使用-variable-names-的栗子"><span>使用 Variable Names 的栗子</span></a></h2><h4 id="结构树" tabindex="-1"><a class="header-anchor" href="#结构树"><span>结构树</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200623222720043-1192814440.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200623222720043-1192814440.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h4 id="jdbc-request-4" tabindex="-1"><a class="header-anchor" href="#jdbc-request-4"><span>JDBC Request</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200623222723631-1531232570.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200623222723631-1531232570.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><p>添加一个 <strong>Debug Sampler</strong> 就知道这个字段有什么作用了</p><h4 id="jdbc-request-运行结果" tabindex="-1"><a class="header-anchor" href="#jdbc-request-运行结果"><span>JDBC Request 运行结果</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200623222727819-961346912.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200623222727819-961346912.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h4 id="调试取样器运行结果" tabindex="-1"><a class="header-anchor" href="#调试取样器运行结果"><span>调试取样器运行结果</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200623222730613-1263025902.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200623222730613-1263025902.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h4 id="知识点-2" tabindex="-1"><a class="header-anchor" href="#知识点-2"><span>知识点</span></a></h4><ul><li>**mysql：**数据库连接池对象</li><li>**a_#、b_#、c_#、d_#：**代表行数</li><li>**a_1：**第 1 行、第 1 列</li><li>**b_2：**第 2 行、第 2 列</li><li>**c_3：**第 3 行、第 3 列</li><li>**d_3：**第 3 行、第 4 列</li><li>以此类推....</li><li>一般如果 HTTP 请求需要用到 sql 查出来的数据的话，就会用到 Variable names 这个字段</li></ul><h2 id="使用-result-variable-name-的栗子" tabindex="-1"><a class="header-anchor" href="#使用-result-variable-name-的栗子"><span>使用 Result variable name 的栗子</span></a></h2><h4 id="jdbc-request-5" tabindex="-1"><a class="header-anchor" href="#jdbc-request-5"><span>JDBC Request</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200624100013276-1777987469.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200624100013276-1777987469.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h4 id="debug-sampler-运行结果" tabindex="-1"><a class="header-anchor" href="#debug-sampler-运行结果"><span>Debug Sampler 运行结果</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200624100019239-995095454.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200624100019239-995095454.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h4 id="知识点-3" tabindex="-1"><a class="header-anchor" href="#知识点-3"><span>知识点</span></a></h4><p>该变量是个数组，每一个元素代表一条记录</p><h4 id="重点" tabindex="-1"><a class="header-anchor" href="#重点"><span>重点</span></a></h4><p>关于通过 Variable names、Result variable name 获取到的值<strong>如何提取</strong>，我们将在下一篇文章中详细讲解</p><h2 id="使用-limit-resultset-的栗子" tabindex="-1"><a class="header-anchor" href="#使用-limit-resultset-的栗子"><span>使用 Limit ResultSet 的栗子</span></a></h2><h4 id="jdbc-request-6" tabindex="-1"><a class="header-anchor" href="#jdbc-request-6"><span>JDBC Request</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200623214923854-724753133.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200623214923854-724753133.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h4 id="运行结果-3" tabindex="-1"><a class="header-anchor" href="#运行结果-3"><span>运行结果</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200623214940420-609405285.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200623214940420-609405285.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h4 id="知识点-4" tabindex="-1"><a class="header-anchor" href="#知识点-4"><span>知识点</span></a></h4><ul><li>Limit ResultSet 是对 sql 语句返回的结果集限制行数</li><li>limit <strong>10</strong> 限制只返回了 10 条数据，然后 Limit ResultSet = <strong>6</strong> 限制结果集最终只返回 6 条数据</li></ul>',61)]))}]]),i=JSON.parse('{"path":"/jmeter/guide/controllers/samplers/jdbc_request/detail.html","title":"详解 JDBC Request","lang":"zh-CN","frontmatter":{"icon":"pen-to-square","category":["JMeter"],"tag":["samplers","JDBC","request"],"order":1,"sticky":true,"description":"详解 JDBC Request 前言 JDBC Request 主要是向数据库发送一个 JDBC 请求（sql 语句），并获取返回的数据集 它需要和数据库连接池配置（JDBC Connection Configuration）一起使用，可参考此篇博文：https://www.cnblogs.com/poloyy/p/13182706.html JDBC...","head":[["meta",{"property":"og:url","content":"https://hekun97.github.io/jmeter/guide/controllers/samplers/jdbc_request/detail.html"}],["meta",{"property":"og:site_name","content":"专业治头秃"}],["meta",{"property":"og:title","content":"详解 JDBC Request"}],["meta",{"property":"og:description","content":"详解 JDBC Request 前言 JDBC Request 主要是向数据库发送一个 JDBC 请求（sql 语句），并获取返回的数据集 它需要和数据库连接池配置（JDBC Connection Configuration）一起使用，可参考此篇博文：https://www.cnblogs.com/poloyy/p/13182706.html JDBC..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://hekun97.github.io/assets/jmeter/1896874-20200623201358973-1094593440.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-03-28T17:43:32.000Z"}],["meta",{"property":"article:tag","content":"samplers"}],["meta",{"property":"article:tag","content":"JDBC"}],["meta",{"property":"article:tag","content":"request"}],["meta",{"property":"article:modified_time","content":"2025-03-28T17:43:32.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"详解 JDBC Request\\",\\"image\\":[\\"https://hekun97.github.io/assets/jmeter/1896874-20200623201358973-1094593440.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200623201401754-685119106.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200623214842008-300494479.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200623214848277-1330496656.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200623214855093-1093252.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200624094037580-1947409040.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200624094041915-1046700033.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200624095106562-1162528683.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200624095112131-1376926478.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200623222720043-1192814440.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200623222723631-1531232570.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200623222727819-961346912.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200623222730613-1263025902.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200624100013276-1777987469.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200624100019239-995095454.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200623214923854-724753133.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200623214940420-609405285.png\\"],\\"dateModified\\":\\"2025-03-28T17:43:32.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"专业治头秃\\",\\"url\\":\\"https://github.com/hekun97\\"}]}"]]},"git":{"createdTime":1743183812000,"updatedTime":1743183812000,"contributors":[{"name":"hekun97","username":"hekun97","email":"hek97@qq.com","commits":1,"url":"https://github.com/hekun97"}]},"readingTime":{"minutes":3.17,"words":950},"filePathRelative":"jmeter/guide/controllers/samplers/jdbc_request/detail.md","localizedDate":"2025年3月28日","excerpt":"\\n<h2>前言</h2>\\n<ul>\\n<li>JDBC Request 主要是向数据库发送一个 JDBC 请求（sql 语句），并获取返回的数据集</li>\\n<li>它需要和数据库连接池配置（JDBC Connection Configuration）一起使用，可参考此篇博文：<a href=\\"https://www.cnblogs.com/poloyy/p/13182706.html\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://www.cnblogs.com/poloyy/p/13182706.html</a></li>\\n</ul>\\n<h2>JDBC Request</h2>","autoDesc":true}')},6995:(e,t)=>{t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[e,r]of t)a[e]=r;return a}}}]);