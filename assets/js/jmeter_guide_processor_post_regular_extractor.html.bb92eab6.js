"use strict";(self.webpackChunkcaelis_terra=self.webpackChunkcaelis_terra||[]).push([[8868],{6995:(a,s)=>{s.A=(a,s)=>{const n=a.__vccOpts||a;for(const[a,e]of s)n[a]=e;return n}},8376:(a,s,n)=>{n.r(s),n.d(s,{comp:()=>t,data:()=>r});var e=n(6254);const i={},t=(0,n(6995).A)(i,[["render",function(a,s){return(0,e.uX)(),(0,e.CE)("div",null,s[0]||(s[0]=[(0,e.Fv)('<h1 id="详解正则提取器" tabindex="-1"><a class="header-anchor" href="#详解正则提取器"><span>详解正则提取器</span></a></h1><h2 id="有了-json-提取器为啥还要用正则提取器" tabindex="-1"><a class="header-anchor" href="#有了-json-提取器为啥还要用正则提取器"><span>有了 JSON 提取器为啥还要用正则提取器？</span></a></h2><ul><li>JSON 提取器<strong>只针对</strong>接口返回的响应内容</li><li>如果想提取的是响应头、请求头的值，而非响应内容的值呢？</li><li>这个时候正则提取器的作用就出来了，它可以提取请求任一部分的值</li></ul><h2 id="需知" tabindex="-1"><a class="header-anchor" href="#需知"><span>需知</span></a></h2><ul><li>正则表达式很多内容，在这篇文章中不会展开详细说的哦，主要还是说提取器的使用</li><li>想详细学习正则表达式可以看这系列的文章：<a href="https://www.cnblogs.com/poloyy/category/1796055.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/poloyy/category/1796055.html</a></li></ul><h2 id="正则提取器" tabindex="-1"><a class="header-anchor" href="#正则提取器"><span>正则提取器</span></a></h2><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200622201337980-1535144600.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200622201337980-1535144600.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><p>我们通过实际栗子去讲述理论知识点</p><h2 id="正则提取器界面介绍" tabindex="-1"><a class="header-anchor" href="#正则提取器界面介绍"><span>正则提取器界面介绍</span></a></h2><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200622201942975-1406453695.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200622201942975-1406453695.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h3 id="字段含义" tabindex="-1"><a class="header-anchor" href="#字段含义"><span>字段含义</span></a></h3><table><thead><tr><th>字段</th><th>含义</th></tr></thead><tbody><tr><td>Apply to</td><td>应用范围，选默认的 main sample only 就行了</td></tr><tr><td>Field to check</td><td>可提取的字段</td></tr><tr><td>Names of created variables</td><td>接收提取值的变量名必传</td></tr><tr><td>Regular Expression</td><td>正则表达式</td></tr><tr><td>Template</td><td>从找到的匹配项中创建字符串的模板</td></tr><tr><td>Match No.(0 for Random)</td><td>取第几个值0：随机，<strong>默认</strong>-1：所有1：第一个值非必传</td></tr><tr><td>Default Value</td><td>缺省值，匹配不到值的时候取该值非必传</td></tr><tr><td>Use empty default value</td><td>勾选后，提取不到值时，则返回空字符串</td></tr></tbody></table><h3 id="template" tabindex="-1"><a class="header-anchor" href="#template"><span>Template</span></a></h3><ul><li>如果<strong>一条</strong>正则表达式有<strong>多个提取结果</strong>，则提取结果是数组形式</li><li>模板 $1$、$2$.....表示把解析到的第几个值赋给变量，从 1 开始匹配</li><li>$0$ 表示整个表达式匹配的内容（后续具体看栗子）</li><li>若只有一个结果，只能是$1$</li></ul><h3 id="field-to-check" tabindex="-1"><a class="header-anchor" href="#field-to-check"><span>Field to check</span></a></h3><table><thead><tr><th>属性</th><th>含义</th></tr></thead><tbody><tr><td>Body</td><td>响应体，不包括响应头；<strong>最常用</strong></td></tr><tr><td>Body (unescaped)</td><td>响应体，替换了所有HTML转义符；<strong>不建议使用</strong></td></tr><tr><td>Body as a Document</td><td>从不同类型的文件中提取文本；<strong>影响性能</strong></td></tr><tr><td>Request Headers</td><td>请求头</td></tr><tr><td>Response Headers</td><td>响应头</td></tr><tr><td>URL</td><td>URL</td></tr><tr><td>Response Code</td><td>响应码</td></tr><tr><td>Response Message</td><td>响应信息</td></tr></tbody></table><h4 id="body" tabindex="-1"><a class="header-anchor" href="#body"><span>Body</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200623101100598-132997947.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200623101100598-132997947.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h4 id="request-headers" tabindex="-1"><a class="header-anchor" href="#request-headers"><span>Request Headers</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200623101109849-1790097774.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200623101109849-1790097774.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h4 id="response-headers" tabindex="-1"><a class="header-anchor" href="#response-headers"><span>Response Headers</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200623101112333-159644683.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200623101112333-159644683.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h4 id="url" tabindex="-1"><a class="header-anchor" href="#url"><span>URL</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200623101105105-1031294474.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200623101105105-1031294474.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h4 id="response-code、message" tabindex="-1"><a class="header-anchor" href="#response-code、message"><span>Response Code、Message</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200623101103435-647358423.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200623101103435-647358423.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h2 id="入门栗子" tabindex="-1"><a class="header-anchor" href="#入门栗子"><span>入门栗子</span></a></h2><h3 id="栗子的前提" tabindex="-1"><a class="header-anchor" href="#栗子的前提"><span>栗子的前提</span></a></h3><p>这个栗子，我都会以这个地址的接口来完成 JSON 提取器的实战栗子，大家可以注册个账号玩一玩哦</p><p><a href="http://api.yesapi.cn/docs.php?keyword=%E4%BC%9A%E5%91%98&amp;channel=api" target="_blank" rel="noopener noreferrer">http://api.yesapi.cn/docs.php?keyword=%E4%BC%9A%E5%91%98&amp;channel=api</a></p><h3 id="测试计划树结构" tabindex="-1"><a class="header-anchor" href="#测试计划树结构"><span>测试计划树结构</span></a></h3><p>下面多个栗子都以这个测试计划为基础哦</p><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200622204904966-10921445.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200622204904966-10921445.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h3 id="提取某个特定的值的栗子" tabindex="-1"><a class="header-anchor" href="#提取某个特定的值的栗子"><span>提取某个特定的值的栗子</span></a></h3><h4 id="登录接口响应" tabindex="-1"><a class="header-anchor" href="#登录接口响应"><span>登录接口响应</span></a></h4><p>登录是执行其他接口的前置接口，所以要获取用户登录后的 <strong>token、uuid</strong></p><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200622204856860-1952782446.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200622204856860-1952782446.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h4 id="提取-token" tabindex="-1"><a class="header-anchor" href="#提取-token"><span>提取 token</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200622204913092-1402647499.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200622204913092-1402647499.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h4 id="提取-uuid" tabindex="-1"><a class="header-anchor" href="#提取-uuid"><span>提取 uuid</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200622204918320-1064483831.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200622204918320-1064483831.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h4 id="其他接口调用-token、uuid" tabindex="-1"><a class="header-anchor" href="#其他接口调用-token、uuid"><span>其他接口调用 token、uuid</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200622204845236-50112383.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200622204845236-50112383.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h3 id="知识点" tabindex="-1"><a class="header-anchor" href="#知识点"><span>知识点</span></a></h3><ul><li>提其他接口可以通过 ${var} 这种格式，来获取提取到的值</li><li>( ) 里面写匹配规则，用于解析正则表达式</li><li>.*? 表示匹配任意长度的任意字符，这也是最常用的正则表达式</li><li>一般 (.+?) 和 (.*?) 能够满足我们 **80%**的使用场景</li></ul><h4 id="一般正则表达式都可以写成下面两种" tabindex="-1"><a class="header-anchor" href="#一般正则表达式都可以写成下面两种"><span>一般正则表达式都可以写成下面两种</span></a></h4><ul><li>左边界(.+?)右边界</li><li>左边界(.*?)右边界</li></ul><h2 id="举更多栗子前的一些话" tabindex="-1"><a class="header-anchor" href="#举更多栗子前的一些话"><span>举更多栗子前的一些话</span></a></h2><ul><li>上面讲的是<strong>使用正则提取器时的一个流程</strong>，也是实际工作中最简单的栗子</li><li>在实际项目中，我们可能会出现一条正则表达式有多个提取结果的情况</li></ul><h4 id="json-字符串" tabindex="-1"><a class="header-anchor" href="#json-字符串"><span>JSON 字符串</span></a></h4><p>下面的栗子都以这个 JSON 字符串为基础，从里面提取结果</p><p>这 JSON 字符串也是某个接口的响应内容，货真价实，感兴趣也可以自己玩一玩：<a href="http://api.yesapi.cn/docs-api-App.User.GetList.html" target="_blank" rel="noopener noreferrer">http://api.yesapi.cn/docs-api-App.User.GetList.html</a></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>{</span></span>\n<span class="line"><span>    &quot;ret&quot;: 200,</span></span>\n<span class="line"><span>    &quot;msg&quot;: &quot;V2.5.1 YesApi App.User.GetList&quot;,</span></span>\n<span class="line"><span>    &quot;data&quot;: {</span></span>\n<span class="line"><span>        &quot;total&quot;: 4,</span></span>\n<span class="line"><span>        &quot;err_msg&quot;: &quot;&quot;,</span></span>\n<span class="line"><span>        &quot;err_code&quot;: 0,</span></span>\n<span class="line"><span>        &quot;users&quot;: [</span></span>\n<span class="line"><span>            {</span></span>\n<span class="line"><span>                &quot;role&quot;: &quot;user&quot;,</span></span>\n<span class="line"><span>                &quot;status_desc&quot;: &quot;正常&quot;,</span></span>\n<span class="line"><span>                &quot;reg_time&quot;: &quot;2020-06-22 20:45:05&quot;,</span></span>\n<span class="line"><span>                &quot;role_desc&quot;: &quot;普通会员&quot;,</span></span>\n<span class="line"><span>                &quot;ext_info&quot;: {</span></span>\n<span class="line"><span>                    &quot;yesapi_nickname&quot;: &quot;&quot;,</span></span>\n<span class="line"><span>                    &quot;yesapi_points&quot;: 0</span></span>\n<span class="line"><span>                },</span></span>\n<span class="line"><span>                &quot;uuid&quot;: &quot;0564CE592B4CE914365D8922F6FC4CEC&quot;,</span></span>\n<span class="line"><span>                &quot;username&quot;: &quot;luojunjiess286&quot;,</span></span>\n<span class="line"><span>                &quot;status&quot;: 0</span></span>\n<span class="line"><span>            },</span></span>\n<span class="line"><span>            {</span></span>\n<span class="line"><span>                &quot;role&quot;: &quot;user&quot;,</span></span>\n<span class="line"><span>                &quot;status_desc&quot;: &quot;正常&quot;,</span></span>\n<span class="line"><span>                &quot;reg_time&quot;: &quot;2020-06-22 14:27:17&quot;,</span></span>\n<span class="line"><span>                &quot;role_desc&quot;: &quot;普通会员&quot;,</span></span>\n<span class="line"><span>                &quot;ext_info&quot;: {</span></span>\n<span class="line"><span>                    &quot;yesapi_nickname&quot;: &quot;&quot;,</span></span>\n<span class="line"><span>                    &quot;yesapi_points&quot;: 0</span></span>\n<span class="line"><span>                },</span></span>\n<span class="line"><span>                &quot;uuid&quot;: &quot;0164DC0680F84DCE40D3DD4A36640ECA&quot;,</span></span>\n<span class="line"><span>                &quot;username&quot;: &quot;luojunjiessa&quot;,</span></span>\n<span class="line"><span>                &quot;status&quot;: 0</span></span>\n<span class="line"><span>            },</span></span>\n<span class="line"><span>            {</span></span>\n<span class="line"><span>                &quot;role&quot;: &quot;admin&quot;,</span></span>\n<span class="line"><span>                &quot;status_desc&quot;: &quot;正常&quot;,</span></span>\n<span class="line"><span>                &quot;reg_time&quot;: &quot;2020-03-23 22:48:32&quot;,</span></span>\n<span class="line"><span>                &quot;role_desc&quot;: &quot;管理员&quot;,</span></span>\n<span class="line"><span>                &quot;ext_info&quot;: {</span></span>\n<span class="line"><span>                    &quot;yesapi_nickname&quot;: &quot;&quot;,</span></span>\n<span class="line"><span>                    &quot;yesapi_points&quot;: 0</span></span>\n<span class="line"><span>                    &quot;yesapi_reg_source&quot;: &quot;&quot;</span></span>\n<span class="line"><span>                },</span></span>\n<span class="line"><span>                &quot;uuid&quot;: &quot;079BF6BB82AFCFC7084F96AECAF0519F&quot;,</span></span>\n<span class="line"><span>                &quot;username&quot;: &quot;luojunjiess&quot;,</span></span>\n<span class="line"><span>                &quot;status&quot;: 0</span></span>\n<span class="line"><span>            }</span></span>\n<span class="line"><span>        ]</span></span>\n<span class="line"><span>    }</span></span>\n<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="一条正则表达式只有一个提取结果的栗子" tabindex="-1"><a class="header-anchor" href="#一条正则表达式只有一个提取结果的栗子"><span>一条正则表达式只有一个提取结果的栗子</span></a></h2><h4 id="什么叫只有一个提取结果" tabindex="-1"><a class="header-anchor" href="#什么叫只有一个提取结果"><span>什么叫只有一个提取结果</span></a></h4><p>就是正则表达式里只有一个 ( ) ，且 Match No. 不是 -1</p><h3 id="未填写模板" tabindex="-1"><a class="header-anchor" href="#未填写模板"><span>未填写模板</span></a></h3><h4 id="提取器" tabindex="-1"><a class="header-anchor" href="#提取器"><span>提取器</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200623105704327-579321284.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200623105704327-579321284.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h4 id="测试结果" tabindex="-1"><a class="header-anchor" href="#测试结果"><span>测试结果</span></a></h4><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>uuid1=</span></span>\n<span class="line"><span>uuid1_g=1</span></span>\n<span class="line"><span>uuid1_g0=&quot;uuid&quot;:&quot;0564CE592B4CE914365D8922F6FC4CEC&quot;</span></span>\n<span class="line"><span>uuid1_g1=0564CE592B4CE914365D8922F6FC4CEC</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="知识点-1" tabindex="-1"><a class="header-anchor" href="#知识点-1"><span>知识点</span></a></h4><p>如果正则匹配到值，但是没有填模板，则返回<strong>空</strong></p><h3 id="_0" tabindex="-1"><a class="header-anchor" href="#_0"><span>$0$</span></a></h3><h4 id="提取器-1" tabindex="-1"><a class="header-anchor" href="#提取器-1"><span>提取器</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200623105734000-327505595.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200623105734000-327505595.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h4 id="测试结果-1" tabindex="-1"><a class="header-anchor" href="#测试结果-1"><span>测试结果</span></a></h4><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>uuid2=&quot;uuid&quot;:&quot;0564CE592B4CE914365D8922F6FC4CEC&quot;</span></span>\n<span class="line"><span>uuid2_g=1</span></span>\n<span class="line"><span>uuid2_g0=&quot;uuid&quot;:&quot;0564CE592B4CE914365D8922F6FC4CEC&quot;</span></span>\n<span class="line"><span>uuid2_g1=0564CE592B4CE914365D8922F6FC4CEC</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="知识点-2" tabindex="-1"><a class="header-anchor" href="#知识点-2"><span>知识点</span></a></h4><ul><li>$0$ 模板其实返回的就是 uuid2_g0 的值</li><li>返回了整个正则表达式，不只是 ( ) 内匹配到的值</li></ul><h3 id="_1" tabindex="-1"><a class="header-anchor" href="#_1"><span>$1$</span></a></h3><h4 id="提取器-2" tabindex="-1"><a class="header-anchor" href="#提取器-2"><span>提取器</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200623105749758-957412849.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200623105749758-957412849.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h4 id="测试结果-2" tabindex="-1"><a class="header-anchor" href="#测试结果-2"><span>测试结果</span></a></h4><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>uuid3=0564CE592B4CE914365D8922F6FC4CEC</span></span>\n<span class="line"><span>uuid3_g=1</span></span>\n<span class="line"><span>uuid3_g0=&quot;uuid&quot;:&quot;0564CE592B4CE914365D8922F6FC4CEC&quot;</span></span>\n<span class="line"><span>uuid3_g1=0564CE592B4CE914365D8922F6FC4CEC</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="知识点-3" tabindex="-1"><a class="header-anchor" href="#知识点-3"><span>知识点</span></a></h4><ul><li>$1$ 模板其实返回的就是 uuid2_g1 的值</li><li>仅返回 ( ) 内匹配到的值</li></ul><h3 id="_2" tabindex="-1"><a class="header-anchor" href="#_2"><span>$2$</span></a></h3><h4 id="提取器-3" tabindex="-1"><a class="header-anchor" href="#提取器-3"><span>提取器</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200623105806967-1710581328.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200623105806967-1710581328.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h4 id="测试结果-3" tabindex="-1"><a class="header-anchor" href="#测试结果-3"><span>测试结果</span></a></h4><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>uuid4=null</span></span>\n<span class="line"><span>uuid4_g=1</span></span>\n<span class="line"><span>uuid4_g0=&quot;uuid&quot;:&quot;0564CE592B4CE914365D8922F6FC4CEC&quot;</span></span>\n<span class="line"><span>uuid4_g1=0564CE592B4CE914365D8922F6FC4CEC</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="知识点-4" tabindex="-1"><a class="header-anchor" href="#知识点-4"><span>知识点</span></a></h4><p>$2$ 模板并不存在，其实就是 uuid4_g2 变量不存在，即使勾了<strong>使用空默认值</strong>，也返回 null，</p><h3 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h3><ul><li>其实 uuid 在 JSON 字符串中有<strong>三个</strong>可匹配到的值，如果不填写匹配数字 Match No. ，则会<strong>随机</strong>取一个 uuid 并返回</li><li>像上述的几个栗子，都填了 <strong>1</strong> ，所以都返回了<strong>第一个匹配到的 uuid</strong></li></ul><h2 id="一条正则表达式有多个提取结果的栗子" tabindex="-1"><a class="header-anchor" href="#一条正则表达式有多个提取结果的栗子"><span>一条正则表达式有多个提取结果的栗子</span></a></h2><h4 id="什么叫有多个提取结果" tabindex="-1"><a class="header-anchor" href="#什么叫有多个提取结果"><span>什么叫有多个提取结果</span></a></h4><p>有两种情况</p><ul><li>一条表达式有多个 ( )</li><li>一个 ( ) 匹配到多个值，且 Match No 填了 <strong>-1</strong></li></ul><h3 id="一个-匹配到多个值" tabindex="-1"><a class="header-anchor" href="#一个-匹配到多个值"><span>一个 ( ) 匹配到多个值</span></a></h3><h4 id="提取器-4" tabindex="-1"><a class="header-anchor" href="#提取器-4"><span>提取器</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200623111935743-1441082763.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200623111935743-1441082763.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h4 id="测试结果-4" tabindex="-1"><a class="header-anchor" href="#测试结果-4"><span>测试结果</span></a></h4><p>手动分成四部分</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>uuid1_1=0564CE592B4CE914365D8922F6FC4CEC</span></span>\n<span class="line"><span>uuid1_1_g=1</span></span>\n<span class="line"><span>uuid1_1_g0=&quot;uuid&quot;:&quot;0564CE592B4CE914365D8922F6FC4CEC&quot;</span></span>\n<span class="line"><span>uuid1_1_g1=0564CE592B4CE914365D8922F6FC4CEC</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>uuid1_2=0164DC0680F84DCE40D3DD4A36640ECA</span></span>\n<span class="line"><span>uuid1_2_g=1</span></span>\n<span class="line"><span>uuid1_2_g0=&quot;uuid&quot;:&quot;0164DC0680F84DCE40D3DD4A36640ECA&quot;</span></span>\n<span class="line"><span>uuid1_2_g1=0164DC0680F84DCE40D3DD4A36640ECA</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>uuid1_3=079BF6BB82AFCFC7084F96AECAF0519F</span></span>\n<span class="line"><span>uuid1_3_g=1</span></span>\n<span class="line"><span>uuid1_3_g0=&quot;uuid&quot;:&quot;079BF6BB82AFCFC7084F96AECAF0519F&quot;</span></span>\n<span class="line"><span>uuid1_3_g1=079BF6BB82AFCFC7084F96AECAF0519F</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>uuid1_matchNr=3</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="知识点-5" tabindex="-1"><a class="header-anchor" href="#知识点-5"><span>知识点</span></a></h3><ul><li>一个 ( ) 匹配到多个值的场景 ，一般会结合 <strong>ForEach控制器</strong>，可以循环将提取到的值赋予到 HTTP 请求中</li><li>可以看看下图的小栗子，这里不展开讲，后面会再详细讲解</li></ul><h4 id="结构树-foreach-控制器" tabindex="-1"><a class="header-anchor" href="#结构树-foreach-控制器"><span>结构树 + ForEach 控制器</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200623113710177-786576881.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200623113710177-786576881.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h4 id="查看结果树" tabindex="-1"><a class="header-anchor" href="#查看结果树"><span>查看结果树</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200623113712937-2084818274.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200623113712937-2084818274.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h3 id="一条表达式有多个-且模板为空" tabindex="-1"><a class="header-anchor" href="#一条表达式有多个-且模板为空"><span>一条表达式有多个( )，且模板为空</span></a></h3><h4 id="提取器-5" tabindex="-1"><a class="header-anchor" href="#提取器-5"><span>提取器</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200623132033331-428428429.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200623132033331-428428429.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h4 id="测试结果-5" tabindex="-1"><a class="header-anchor" href="#测试结果-5"><span>测试结果</span></a></h4><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>info1=</span></span>\n<span class="line"><span>info1_g=2</span></span>\n<span class="line"><span>info1_g0=&quot;uuid&quot;:&quot;0564CE592B4CE914365D8922F6FC4CEC&quot;,&quot;username&quot;:&quot;luojunjiess286&quot;</span></span>\n<span class="line"><span>info1_g1=0564CE592B4CE914365D8922F6FC4CEC</span></span>\n<span class="line"><span>info1_g2=luojunjiess286</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="一条表达式有多个-且只有一个模板" tabindex="-1"><a class="header-anchor" href="#一条表达式有多个-且只有一个模板"><span>一条表达式有多个( )，且只有一个模板</span></a></h3><h4 id="提取器-6" tabindex="-1"><a class="header-anchor" href="#提取器-6"><span>提取器</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200623132109237-1293955560.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200623132109237-1293955560.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h4 id="测试结果-6" tabindex="-1"><a class="header-anchor" href="#测试结果-6"><span>测试结果</span></a></h4><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>info2=0564CE592B4CE914365D8922F6FC4CEC</span></span>\n<span class="line"><span>info2_g=2</span></span>\n<span class="line"><span>info2_g0=&quot;uuid&quot;:&quot;0564CE592B4CE914365D8922F6FC4CEC&quot;,&quot;username&quot;:&quot;luojunjiess286&quot;</span></span>\n<span class="line"><span>info2_g1=0564CE592B4CE914365D8922F6FC4CEC</span></span>\n<span class="line"><span>info2_g2=luojunjiess286</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="知识点-6" tabindex="-1"><a class="header-anchor" href="#知识点-6"><span>知识点</span></a></h4><ul><li>info2 拿的就是 info2_g1 的值</li><li>$1$ 获取的是第一个 ( ) 匹配到的值， $2$ 获取的是第二个 ( ) 匹配到的值，以此类推</li></ul><h3 id="一条表达式有多个-且有两个模板" tabindex="-1"><a class="header-anchor" href="#一条表达式有多个-且有两个模板"><span>一条表达式有多个( )，且有两个模板</span></a></h3><h4 id="提取器-7" tabindex="-1"><a class="header-anchor" href="#提取器-7"><span>提取器</span></a></h4><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200623132113585-244154155.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200623132113585-244154155.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><figure><a href="https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200623132114849-197040883.png" target="_blank" rel="noopener noreferrer"><img src="/assets/jmeter/1896874-20200623132114849-197040883.png" alt="img" tabindex="0" loading="lazy"></a><figcaption>img</figcaption></figure><h4 id="测试结果-7" tabindex="-1"><a class="header-anchor" href="#测试结果-7"><span>测试结果</span></a></h4><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>info3=0564CE592B4CE914365D8922F6FC4CECluojunjiess286</span></span>\n<span class="line"><span>info3_g=2</span></span>\n<span class="line"><span>info3_g0=&quot;uuid&quot;:&quot;0564CE592B4CE914365D8922F6FC4CEC&quot;,&quot;username&quot;:&quot;luojunjiess286&quot;</span></span>\n<span class="line"><span>info3_g1=0564CE592B4CE914365D8922F6FC4CEC</span></span>\n<span class="line"><span>info3_g2=luojunjiess286</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>info4=0564CE592B4CE914365D8922F6FC4CEC,luojunjiess286</span></span>\n<span class="line"><span>info4_g=2</span></span>\n<span class="line"><span>info4_g0=&quot;uuid&quot;:&quot;0564CE592B4CE914365D8922F6FC4CEC&quot;,&quot;username&quot;:&quot;luojunjiess286&quot;</span></span>\n<span class="line"><span>info4_g1=0564CE592B4CE914365D8922F6FC4CEC</span></span>\n<span class="line"><span>info4_g2=luojunjiess286</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="正则表达式中有多个-时的总结" tabindex="-1"><a class="header-anchor" href="#正则表达式中有多个-时的总结"><span>正则表达式中有多个 ( ) 时的总结</span></a></h3><ul><li>如果其中一个 ( ) 匹配不到元素，那也无法获取到值</li><li><strong>引用名称、匹配数字、缺省值</strong>三个字段也只需要填一个值即可，不需要跟 ( ) 的数量一致</li><li>多个模板（ $1$$2$ ）的时候，可以用空格、, 、. 、 - 连接模板，最终会显示在变量上，如：info4</li></ul>',122)]))}]]),r=JSON.parse('{"path":"/jmeter/guide/processor/post/regular_extractor.html","title":"详解正则提取器","lang":"zh-CN","frontmatter":{"icon":"pen-to-square","category":["JMeter"],"tag":["controllers","Regular_Extractor"],"order":4,"sticky":true,"description":"详解正则提取器 有了 JSON 提取器为啥还要用正则提取器？ JSON 提取器只针对接口返回的响应内容 如果想提取的是响应头、请求头的值，而非响应内容的值呢？ 这个时候正则提取器的作用就出来了，它可以提取请求任一部分的值 需知 正则表达式很多内容，在这篇文章中不会展开详细说的哦，主要还是说提取器的使用 想详细学习正则表达式可以看这系列的文章：https...","head":[["meta",{"property":"og:url","content":"https://hekun97.github.io/jmeter/guide/processor/post/regular_extractor.html"}],["meta",{"property":"og:site_name","content":"专业治头秃"}],["meta",{"property":"og:title","content":"详解正则提取器"}],["meta",{"property":"og:description","content":"详解正则提取器 有了 JSON 提取器为啥还要用正则提取器？ JSON 提取器只针对接口返回的响应内容 如果想提取的是响应头、请求头的值，而非响应内容的值呢？ 这个时候正则提取器的作用就出来了，它可以提取请求任一部分的值 需知 正则表达式很多内容，在这篇文章中不会展开详细说的哦，主要还是说提取器的使用 想详细学习正则表达式可以看这系列的文章：https..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://hekun97.github.io/assets/jmeter/1896874-20200622201337980-1535144600.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-03-28T17:43:32.000Z"}],["meta",{"property":"article:tag","content":"controllers"}],["meta",{"property":"article:tag","content":"Regular_Extractor"}],["meta",{"property":"article:modified_time","content":"2025-03-28T17:43:32.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"详解正则提取器\\",\\"image\\":[\\"https://hekun97.github.io/assets/jmeter/1896874-20200622201337980-1535144600.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200622201942975-1406453695.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200623101100598-132997947.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200623101109849-1790097774.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200623101112333-159644683.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200623101105105-1031294474.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200623101103435-647358423.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200622204904966-10921445.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200622204856860-1952782446.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200622204913092-1402647499.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200622204918320-1064483831.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200622204845236-50112383.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200623105704327-579321284.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200623105734000-327505595.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200623105749758-957412849.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200623105806967-1710581328.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200623111935743-1441082763.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200623113710177-786576881.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200623113712937-2084818274.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200623132033331-428428429.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200623132109237-1293955560.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200623132113585-244154155.png\\",\\"https://hekun97.github.io/assets/jmeter/1896874-20200623132114849-197040883.png\\"],\\"dateModified\\":\\"2025-03-28T17:43:32.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"专业治头秃\\",\\"url\\":\\"https://github.com/hekun97\\"}]}"]]},"git":{"createdTime":1743183812000,"updatedTime":1743183812000,"contributors":[{"name":"hekun97","username":"hekun97","email":"hek97@qq.com","commits":1,"url":"https://github.com/hekun97"}]},"readingTime":{"minutes":6.39,"words":1918},"filePathRelative":"jmeter/guide/processor/post/regular_extractor.md","localizedDate":"2025年3月28日","excerpt":"\\n<h2>有了 JSON 提取器为啥还要用正则提取器？</h2>\\n<ul>\\n<li>JSON 提取器<strong>只针对</strong>接口返回的响应内容</li>\\n<li>如果想提取的是响应头、请求头的值，而非响应内容的值呢？</li>\\n<li>这个时候正则提取器的作用就出来了，它可以提取请求任一部分的值</li>\\n</ul>\\n<h2>需知</h2>\\n<ul>\\n<li>正则表达式很多内容，在这篇文章中不会展开详细说的哦，主要还是说提取器的使用</li>\\n<li>想详细学习正则表达式可以看这系列的文章：<a href=\\"https://www.cnblogs.com/poloyy/category/1796055.html\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://www.cnblogs.com/poloyy/category/1796055.html</a></li>\\n</ul>","autoDesc":true}')}}]);